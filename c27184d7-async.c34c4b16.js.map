{"version":3,"sources":["node_modules/@ant-design/pro-form/es/components/Checkbox/index.js","node_modules/@ant-design/pro-form/es/components/Select/index.js","node_modules/@ant-design/pro-form/es/components/Text/index.js","node_modules/@ant-design/pro-form/es/components/TextArea/index.js","node_modules/antd/es/flex/utils.js","node_modules/antd/es/flex/style/index.js","node_modules/antd/es/flex/index.js","src/services/deepseek.ts","src/services/mockData.ts","src/pages/suno-cover/index.tsx"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"options\", \"fieldProps\", \"proFieldProps\", \"valueEnum\"];\nimport { runFunction } from '@ant-design/pro-utils';\nimport { Checkbox } from 'antd';\nimport React from 'react';\nimport { createField } from \"../../BaseForm/createField\";\nimport ProFormField from \"../Field\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar CheckboxGroup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var options = _ref.options,\n    fieldProps = _ref.fieldProps,\n    proFieldProps = _ref.proFieldProps,\n    valueEnum = _ref.valueEnum,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/_jsx(ProFormField, _objectSpread({\n    ref: ref,\n    valueType: \"checkbox\",\n    valueEnum: runFunction(valueEnum, undefined),\n    fieldProps: _objectSpread({\n      options: options\n    }, fieldProps),\n    lightProps: _objectSpread({\n      labelFormatter: function labelFormatter() {\n        return /*#__PURE__*/_jsx(ProFormField, _objectSpread({\n          ref: ref,\n          valueType: \"checkbox\",\n          mode: \"read\",\n          valueEnum: runFunction(valueEnum, undefined),\n          filedConfig: {\n            customLightMode: true\n          },\n          fieldProps: _objectSpread({\n            options: options\n          }, fieldProps),\n          proFieldProps: proFieldProps\n        }, rest));\n      }\n    }, rest.lightProps),\n    proFieldProps: proFieldProps\n  }, rest));\n});\n/**\n * 多选框的\n *\n * @param\n */\nvar ProFormCheckboxComponents = /*#__PURE__*/React.forwardRef(function (_ref2, ref) {\n  var fieldProps = _ref2.fieldProps,\n    children = _ref2.children;\n  return /*#__PURE__*/_jsx(Checkbox, _objectSpread(_objectSpread({\n    ref: ref\n  }, fieldProps), {}, {\n    children: children\n  }));\n});\nvar ProFormCheckbox = createField(ProFormCheckboxComponents, {\n  valuePropName: 'checked'\n});\nvar WrappedProFormCheckbox = ProFormCheckbox;\nWrappedProFormCheckbox.Group = CheckboxGroup;\nexport default WrappedProFormCheckbox;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"children\", \"params\", \"proFieldProps\", \"mode\", \"valueEnum\", \"request\", \"showSearch\", \"options\"],\n  _excluded2 = [\"fieldProps\", \"children\", \"params\", \"proFieldProps\", \"mode\", \"valueEnum\", \"request\", \"options\"];\nimport { runFunction } from '@ant-design/pro-utils';\nimport React, { useContext } from 'react';\nimport FieldContext from \"../../FieldContext\";\nimport ProFormField from \"../Field\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * 选择框\n *\n * @param\n */\nvar ProFormSelectComponents = function ProFormSelectComponents(_ref, ref) {\n  var fieldProps = _ref.fieldProps,\n    children = _ref.children,\n    params = _ref.params,\n    proFieldProps = _ref.proFieldProps,\n    mode = _ref.mode,\n    valueEnum = _ref.valueEnum,\n    request = _ref.request,\n    showSearch = _ref.showSearch,\n    options = _ref.options,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var context = useContext(FieldContext);\n  return /*#__PURE__*/_jsx(ProFormField, _objectSpread(_objectSpread({\n    valueEnum: runFunction(valueEnum),\n    request: request,\n    params: params,\n    valueType: \"select\",\n    filedConfig: {\n      customLightMode: true\n    },\n    fieldProps: _objectSpread({\n      options: options,\n      mode: mode,\n      showSearch: showSearch,\n      getPopupContainer: context.getPopupContainer\n    }, fieldProps),\n    ref: ref,\n    proFieldProps: proFieldProps\n  }, rest), {}, {\n    children: children\n  }));\n};\nvar SearchSelect = /*#__PURE__*/React.forwardRef(function (_ref2, ref) {\n  var fieldProps = _ref2.fieldProps,\n    children = _ref2.children,\n    params = _ref2.params,\n    proFieldProps = _ref2.proFieldProps,\n    mode = _ref2.mode,\n    valueEnum = _ref2.valueEnum,\n    request = _ref2.request,\n    options = _ref2.options,\n    rest = _objectWithoutProperties(_ref2, _excluded2);\n  var props = _objectSpread({\n    options: options,\n    mode: mode || 'multiple',\n    labelInValue: true,\n    showSearch: true,\n    suffixIcon: null,\n    autoClearSearchValue: true,\n    optionLabelProp: 'label'\n  }, fieldProps);\n  var context = useContext(FieldContext);\n  return /*#__PURE__*/_jsx(ProFormField, _objectSpread(_objectSpread({\n    valueEnum: runFunction(valueEnum),\n    request: request,\n    params: params,\n    valueType: \"select\",\n    filedConfig: {\n      customLightMode: true\n    },\n    fieldProps: _objectSpread({\n      getPopupContainer: context.getPopupContainer\n    }, props),\n    ref: ref,\n    proFieldProps: proFieldProps\n  }, rest), {}, {\n    children: children\n  }));\n});\nvar ProFormSelect = /*#__PURE__*/React.forwardRef(ProFormSelectComponents);\nvar ProFormSearchSelect = SearchSelect;\nvar WrappedProFormSelect = ProFormSelect;\nWrappedProFormSelect.SearchSelect = ProFormSearchSelect;\n\n// @ts-ignore\n// eslint-disable-next-line no-param-reassign\nWrappedProFormSelect.displayName = 'ProFormComponent';\nexport default WrappedProFormSelect;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"proFieldProps\"],\n  _excluded2 = [\"fieldProps\", \"proFieldProps\"];\nimport { useMountMergeState } from '@ant-design/pro-utils';\nimport { Form, Popover } from 'antd';\nimport omit from \"rc-util/es/omit\";\nimport React, { useState } from 'react';\nimport ProField from \"../Field\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar valueType = 'text';\n/**\n * 文本组件\n *\n * @param\n */\nvar ProFormText = function ProFormText(_ref) {\n  var fieldProps = _ref.fieldProps,\n    proFieldProps = _ref.proFieldProps,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/_jsx(ProField, _objectSpread({\n    valueType: valueType,\n    fieldProps: fieldProps,\n    filedConfig: {\n      valueType: valueType\n    },\n    proFieldProps: proFieldProps\n  }, rest));\n};\nvar PassWordStrength = function PassWordStrength(props) {\n  var _useMountMergeState = useMountMergeState(props.open || false, {\n      value: props.open,\n      onChange: props.onOpenChange\n    }),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    open = _useMountMergeState2[0],\n    setOpen = _useMountMergeState2[1];\n  return /*#__PURE__*/_jsx(Form.Item, {\n    shouldUpdate: true,\n    noStyle: true,\n    children: function children(form) {\n      var _props$statusRender;\n      var value = form.getFieldValue(props.name || []);\n      return /*#__PURE__*/_jsx(Popover, _objectSpread(_objectSpread({\n        getPopupContainer: function getPopupContainer(node) {\n          if (node && node.parentNode) {\n            return node.parentNode;\n          }\n          return node;\n        },\n        onOpenChange: function onOpenChange(e) {\n          return setOpen(e);\n        },\n        content: /*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            padding: '4px 0'\n          },\n          children: [(_props$statusRender = props.statusRender) === null || _props$statusRender === void 0 ? void 0 : _props$statusRender.call(props, value), props.strengthText ? /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              marginTop: 10\n            },\n            children: /*#__PURE__*/_jsx(\"span\", {\n              children: props.strengthText\n            })\n          }) : null]\n        }),\n        overlayStyle: {\n          width: 240\n        },\n        placement: \"rightTop\"\n      }, props.popoverProps), {}, {\n        open: open,\n        children: props.children\n      }));\n    }\n  });\n};\nvar Password = function Password(_ref2) {\n  var fieldProps = _ref2.fieldProps,\n    proFieldProps = _ref2.proFieldProps,\n    rest = _objectWithoutProperties(_ref2, _excluded2);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    open = _useState2[0],\n    setOpen = _useState2[1];\n  if (fieldProps !== null && fieldProps !== void 0 && fieldProps.statusRender && rest.name) {\n    return /*#__PURE__*/_jsx(PassWordStrength, {\n      name: rest.name,\n      statusRender: fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.statusRender,\n      popoverProps: fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.popoverProps,\n      strengthText: fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.strengthText,\n      open: open,\n      onOpenChange: setOpen,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(ProField, _objectSpread({\n          valueType: \"password\",\n          fieldProps: _objectSpread(_objectSpread({}, omit(fieldProps, ['statusRender', 'popoverProps', 'strengthText'])), {}, {\n            onBlur: function onBlur(e) {\n              var _fieldProps$onBlur;\n              fieldProps === null || fieldProps === void 0 || (_fieldProps$onBlur = fieldProps.onBlur) === null || _fieldProps$onBlur === void 0 || _fieldProps$onBlur.call(fieldProps, e);\n              setOpen(false);\n            },\n            onClick: function onClick(e) {\n              var _fieldProps$onClick;\n              fieldProps === null || fieldProps === void 0 || (_fieldProps$onClick = fieldProps.onClick) === null || _fieldProps$onClick === void 0 || _fieldProps$onClick.call(fieldProps, e);\n              setOpen(true);\n            }\n          }),\n          proFieldProps: proFieldProps,\n          filedConfig: {\n            valueType: valueType\n          }\n        }, rest))\n      })\n    });\n  }\n  return /*#__PURE__*/_jsx(ProField, _objectSpread({\n    valueType: \"password\",\n    fieldProps: fieldProps,\n    proFieldProps: proFieldProps,\n    filedConfig: {\n      valueType: valueType\n    }\n  }, rest));\n};\nvar WrappedProFormText = ProFormText;\nWrappedProFormText.Password = Password;\n\n// @ts-ignore\n// eslint-disable-next-line no-param-reassign\nWrappedProFormText.displayName = 'ProFormComponent';\nexport default WrappedProFormText;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"proFieldProps\"];\nimport React from 'react';\nimport ProField from \"../Field\";\n\n/**\n * 文本选择组件\n *\n * @param\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar ProFormTextArea = function ProFormTextArea(_ref, ref) {\n  var fieldProps = _ref.fieldProps,\n    proFieldProps = _ref.proFieldProps,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/_jsx(ProField, _objectSpread({\n    ref: ref,\n    valueType: \"textarea\",\n    fieldProps: fieldProps,\n    proFieldProps: proFieldProps\n  }, rest));\n};\nexport default /*#__PURE__*/React.forwardRef(ProFormTextArea);","import classNames from 'classnames';\nexport const flexWrapValues = ['wrap', 'nowrap', 'wrap-reverse'];\nexport const justifyContentValues = ['flex-start', 'flex-end', 'start', 'end', 'center', 'space-between', 'space-around', 'space-evenly', 'stretch', 'normal', 'left', 'right'];\nexport const alignItemsValues = ['center', 'start', 'end', 'flex-start', 'flex-end', 'self-start', 'self-end', 'baseline', 'normal', 'stretch'];\nconst genClsWrap = (prefixCls, props) => {\n  const wrap = props.wrap === true ? 'wrap' : props.wrap;\n  return {\n    [`${prefixCls}-wrap-${wrap}`]: wrap && flexWrapValues.includes(wrap)\n  };\n};\nconst genClsAlign = (prefixCls, props) => {\n  const alignCls = {};\n  alignItemsValues.forEach(cssKey => {\n    alignCls[`${prefixCls}-align-${cssKey}`] = props.align === cssKey;\n  });\n  alignCls[`${prefixCls}-align-stretch`] = !props.align && !!props.vertical;\n  return alignCls;\n};\nconst genClsJustify = (prefixCls, props) => {\n  const justifyCls = {};\n  justifyContentValues.forEach(cssKey => {\n    justifyCls[`${prefixCls}-justify-${cssKey}`] = props.justify === cssKey;\n  });\n  return justifyCls;\n};\nfunction createFlexClassNames(prefixCls, props) {\n  return classNames(Object.assign(Object.assign(Object.assign({}, genClsWrap(prefixCls, props)), genClsAlign(prefixCls, props)), genClsJustify(prefixCls, props)));\n}\nexport default createFlexClassNames;","import { genStyleHooks, mergeToken } from '../../theme/internal';\nimport { alignItemsValues, flexWrapValues, justifyContentValues } from '../utils';\nconst genFlexStyle = token => {\n  const {\n    componentCls\n  } = token;\n  return {\n    [componentCls]: {\n      display: 'flex',\n      margin: 0,\n      padding: 0,\n      '&-vertical': {\n        flexDirection: 'column'\n      },\n      '&-rtl': {\n        direction: 'rtl'\n      },\n      '&:empty': {\n        display: 'none'\n      }\n    }\n  };\n};\nconst genFlexGapStyle = token => {\n  const {\n    componentCls\n  } = token;\n  return {\n    [componentCls]: {\n      '&-gap-small': {\n        gap: token.flexGapSM\n      },\n      '&-gap-middle': {\n        gap: token.flexGap\n      },\n      '&-gap-large': {\n        gap: token.flexGapLG\n      }\n    }\n  };\n};\nconst genFlexWrapStyle = token => {\n  const {\n    componentCls\n  } = token;\n  const wrapStyle = {};\n  flexWrapValues.forEach(value => {\n    wrapStyle[`${componentCls}-wrap-${value}`] = {\n      flexWrap: value\n    };\n  });\n  return wrapStyle;\n};\nconst genAlignItemsStyle = token => {\n  const {\n    componentCls\n  } = token;\n  const alignStyle = {};\n  alignItemsValues.forEach(value => {\n    alignStyle[`${componentCls}-align-${value}`] = {\n      alignItems: value\n    };\n  });\n  return alignStyle;\n};\nconst genJustifyContentStyle = token => {\n  const {\n    componentCls\n  } = token;\n  const justifyStyle = {};\n  justifyContentValues.forEach(value => {\n    justifyStyle[`${componentCls}-justify-${value}`] = {\n      justifyContent: value\n    };\n  });\n  return justifyStyle;\n};\nexport const prepareComponentToken = () => ({});\nexport default genStyleHooks('Flex', token => {\n  const {\n    paddingXS,\n    padding,\n    paddingLG\n  } = token;\n  const flexToken = mergeToken(token, {\n    flexGapSM: paddingXS,\n    flexGap: padding,\n    flexGapLG: paddingLG\n  });\n  return [genFlexStyle(flexToken), genFlexGapStyle(flexToken), genFlexWrapStyle(flexToken), genAlignItemsStyle(flexToken), genJustifyContentStyle(flexToken)];\n}, prepareComponentToken, {\n  // Flex component don't apply extra font style\n  // https://github.com/ant-design/ant-design/issues/46403\n  resetStyle: false\n});","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport { isPresetSize } from '../_util/gapSize';\nimport { ConfigContext } from '../config-provider';\nimport useStyle from './style';\nimport createFlexClassNames from './utils';\nconst Flex = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n      prefixCls: customizePrefixCls,\n      rootClassName,\n      className,\n      style,\n      flex,\n      gap,\n      vertical = false,\n      component: Component = 'div',\n      children\n    } = props,\n    othersProps = __rest(props, [\"prefixCls\", \"rootClassName\", \"className\", \"style\", \"flex\", \"gap\", \"vertical\", \"component\", \"children\"]);\n  const {\n    flex: ctxFlex,\n    direction: ctxDirection,\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('flex', customizePrefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls);\n  const mergedVertical = vertical !== null && vertical !== void 0 ? vertical : ctxFlex === null || ctxFlex === void 0 ? void 0 : ctxFlex.vertical;\n  const mergedCls = classNames(className, rootClassName, ctxFlex === null || ctxFlex === void 0 ? void 0 : ctxFlex.className, prefixCls, hashId, cssVarCls, createFlexClassNames(prefixCls, props), {\n    [`${prefixCls}-rtl`]: ctxDirection === 'rtl',\n    [`${prefixCls}-gap-${gap}`]: isPresetSize(gap),\n    [`${prefixCls}-vertical`]: mergedVertical\n  });\n  const mergedStyle = Object.assign(Object.assign({}, ctxFlex === null || ctxFlex === void 0 ? void 0 : ctxFlex.style), style);\n  if (flex) {\n    mergedStyle.flex = flex;\n  }\n  if (gap && !isPresetSize(gap)) {\n    mergedStyle.gap = gap;\n  }\n  return wrapCSSVar(/*#__PURE__*/React.createElement(Component, Object.assign({\n    ref: ref,\n    className: mergedCls,\n    style: mergedStyle\n  }, omit(othersProps, ['justify', 'wrap', 'align'])), children));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Flex.displayName = 'Flex';\n}\nexport default Flex;","/**\n * DeepSeek API 服务模块\n * 负责处理与 DeepSeek API 的通信，生成高质量的 Suno 翻唱歌曲提示词\n * 核心业务逻辑：\n * 1. 生成结构化的用户提示模板\n * 2. 调用 DeepSeek API 生成 Styles 和 Lyrics\n * 3. 解析 AI 输出，返回标准化结果\n */\n\n/**\n * 参考歌曲接口定义\n * 用于描述用户提供的参考歌曲信息\n */\nexport interface ReferenceSong {\n  title: string;          // 歌曲标题\n  artist?: string;        // 歌曲艺术家（可选）\n}\n\n/**\n * 生成请求接口定义\n * 包含调用 DeepSeek API 所需的所有参数\n */\nexport interface GenerateRequest {\n  apiKey: string;                // DeepSeek API 密钥\n  song_language: string;         // 歌曲语言（如 Mandarin, English 等）\n  target_artist: string;         // 目标翻唱艺术家\n  reference_songs: ReferenceSong[]; // 参考歌曲列表\n  style_note?: string;           // 风格备注（可选）\n  extra_note?: string;           // 额外备注（可选，包含场景、受众、平台等信息）\n  lyrics_raw: string;            // 原始歌词（包含用户自定义的段落标记）\n  rememberApiKey?: boolean;      // 是否记住 API 密钥（前端使用）\n}\n\n/**\n * 生成响应接口定义\n * 包含 DeepSeek API 返回的生成结果\n */\nexport interface GenerateResponse {\n  styles: string;        // 生成的歌曲风格描述\n  lyrics: string;        // 生成的带属性的歌词段落\n}\n\n/**\n * 生成用户提示模板\n * 根据输入参数生成结构化的用户提示，用于指导 DeepSeek API 生成高质量的 Suno 提示词\n * @param values - 生成请求参数\n * @returns 格式化的用户提示字符串\n */\nexport const generateUserPrompt = (values: GenerateRequest): string => {\n  // 语言映射：将内部语言代码转换为对外显示的完整语言名称\n  // 用于在提示中确保语言描述的一致性和准确性\n  const languageMap: Record<string, string> = {\n    Mandarin: 'Mandarin Chinese',\n    Cantonese: 'Cantonese',\n    Minnan: 'Minnan',\n    English: 'English',\n    Korean: 'Korean',\n    Japanese: 'Japanese',\n    Other: 'Other',\n  };\n\n  // 生成参考歌曲块：将参考歌曲列表格式化为易读的文本块\n  // 如果没有参考歌曲，显示 \"None\"\n  // 每个参考歌曲格式：\"歌曲标题 by 艺术家名\"（如果没有艺术家名则使用目标艺术家）\n  const referenceSongsBlock = values.reference_songs.length > 0\n    ? values.reference_songs.map(song => `${song.title} by ${song.artist || values.target_artist}`).join('\\n')\n    : 'None';\n\n  return 'You are generating Suno \"Styles\" and \"Lyrics\" prompts for a COVER version of a song. Read all the information below carefully and then produce the final output strictly following the system rules and the format requirements.\\n\\n' +\n    '------------------------------\\n' +\n    '[1] Song language and context\\n' +\n    '------------------------------\\n\\n' +\n    '- Song language: ' + (languageMap[values.song_language] || 'Other') + ' .\\n' +\n    '- The lyrics are provided in this language and MUST be preserved exactly.\\n' +\n    '- This is a COVER version, not an original composition. You should shape the sound to match the target artist and references below.\\n\\n' +\n    '------------------------------\\n' +\n    '[2] Target artist and references\\n' +\n    '------------------------------\\n\\n' +\n    '- Target cover artist (user input, may be in Chinese or another language):\\n' +\n    '  \"' + values.target_artist + '\"\\n\\n' +\n    '- Reference songs from the user (if any):\\n' +\n    '  ' + referenceSongsBlock + '\\n\\n' +\n    'These names indicate the general style, vocal approach, and arrangement flavor you should lean toward. You do NOT need to describe these songs explicitly, but your Styles and section attributes should feel consistent with this artist and these references.\\n\\n' +\n    '------------------------------\\n' +\n    '[3] User style notes (free-form, for your understanding only)\\n' +\n    '------------------------------\\n\\n' +\n    'The user has provided extra style notes in their own words (often Chinese). You may use these notes to refine dynamics, emotion curve, and arrangement choices, but they are NOT additional lyrics.\\n\\n' +\n    '- User style note (may be empty):\\n' +\n    '  \"' + (values.style_note || '') + '\"\\n\\n' +\n    '- Extra note (may be empty, can include scene / audience / platform, etc.):\\n' +\n    '  \"' + (values.extra_note || '') + '\"\\n\\n' +\n    'You can understand these notes in any language, but you MUST still output Styles and all [Key: Value] attributes in English.\\n\\n' +\n    '------------------------------\\n' +\n    '[4] User lyrics (DO NOT MODIFY)\\n' +\n    '------------------------------\\n\\n' +\n    'Below are the complete lyrics provided by the user, with their own section labels and line breaks. They may use Chinese labels such as 【主歌】、【副歌】 or non-standard English labels like [verse], [chorus], etc.\\n\\n' +\n    'You MUST:\\n' +\n    '- Keep all lyric lines exactly as they are.\\n' +\n    '- Use these labels only to infer your standardized section labels.\\n' +\n    '- NOT copy these raw labels into your final output; instead, replace them with standardized English labels such as [Verse 1], [Chorus], [Bridge], [Intro], etc.\\n\\n' +\n    'Here are the raw lyrics:\\n\\n' +\n    values.lyrics_raw + '\\n\\n' +\n    '------------------------------\\n' +\n    '[5] Your output task\\n' +\n    '------------------------------\\n\\n' +\n    'Now, using everything above and following the system rules, you MUST:\\n\\n' +\n    '1) Generate the \"Styles\" section in English\\n' +\n    '- A single paragraph of 800–900 characters (hard limit 1000).\\n' +\n    '- It should describe the overall sound of this COVER version, taking into account:\\n' +\n    '  - The song language: ' + (languageMap[values.song_language] || 'Other') + ' .\\n' +\n    '  - The target artist: ' + values.target_artist + '.\\n' +\n    '  - The reference songs (if any).\\n' +\n    '  - The user style notes and extra note.\\n' +\n    '- Mention genre / style, vocal character, dynamic contour, instrumentation, arrangement, and production / space feel.\\n\\n' +\n    '2) Generate the \"Lyrics\" section as an attribute list\\n' +\n    '- Split the song into logical sections using standardized English labels in square brackets:\\n' +\n    '  [Intro], [Verse 1], [Verse 2], [Pre-Chorus], [Chorus], [Chorus 2], [Bridge], [Interlude], [Outro], etc.\\n' +\n    '- For each section:\\n' +\n    '  - Create 2–4 attribute lines in the form [Key: Value], using English Keys (Vocal, Dynamics, Instrument, Texture, Mood, Arrangement, etc.) and concise English Values.\\n' +\n    '  - Then paste the original lyric lines for that section exactly as provided, without any change.\\n' +\n    '- For purely instrumental sections (no lyrics), only write the attributes and make it clear there is no vocal.\\n\\n' +\n    '------------------------------\\n' +\n    '[6] Output format (VERY IMPORTANT)\\n' +\n    '------------------------------\\n\\n' +\n    'Return your answer in EXACTLY this Markdown structure and nothing else:\\n\\n' +\n    '### Styles\\n' +\n    '```text\\n' +\n    'Characters: <N>\\n' +\n    '(put the Styles paragraph here in English, MUST be under 900 characters)\\n' +\n    '```\\n\\n' +\n    '### Lyrics\\n' +\n    '```text\\n' +\n    '(put the full Lyrics attribute list here, with all sections, attributes, and original lyrics)\\n' +\n    '```\\n\\n' +\n    'Do NOT add any extra headings, explanations, or comments outside this format.';\n};\n\n/**\n * 调用 DeepSeek API 生成 Suno 翻唱歌曲提示词\n * 核心业务流程：\n * 1. 生成系统提示，定义 AI 助手的角色和行为规则\n * 2. 生成用户提示，包含具体的歌曲信息和生成要求\n * 3. 调用 DeepSeek API 进行文本生成\n * 4. 解析 AI 输出，提取 Styles 和 Lyrics\n * 5. 处理错误，返回标准化结果\n * \n * @param values - 生成请求参数\n * @returns 包含生成的 Styles 和 Lyrics 的标准化响应\n */\nexport const callDeepSeekAPI = async (values: GenerateRequest): Promise<GenerateResponse> => {\n  // 系统提示：定义 AI 助手的角色、职责和严格的输出规则\n  // 包含 9 条核心规则，确保生成的提示词符合 Suno 要求和用户预期\n  const systemPrompt = 'You are a senior Suno prompt engineer. Your job is to generate high-quality \"Styles\" and \"Lyrics\" prompts for cover songs in Suno (v3/v4/v5), especially for Chinese and East Asian songs (Mandarin, Cantonese, etc.).\\n\\n' +\n    'You MUST strictly follow ALL rules below:\\n\\n' +\n    '0. Highest priority rule about Styles length\\n' +\n    '- The single most important constraint for the Styles section is LENGTH.\\n' +\n    '- Under NO circumstances may the Styles section exceed 900 characters (including spaces).\\n' +\n    '- If following any other instruction would cause the Styles section to go over 900 characters, you MUST ignore that other instruction and keep the Styles section within 900 characters.\\n\\n' +\n    '1. Never modify lyrics\\n' +\n    '- The user will provide complete lyrics in the original language (often Chinese).\\n' +\n    '- You MUST treat these lyrics as immutable text.\\n' +\n    '- You MUST NOT change, rewrite, translate, add, or delete any words, punctuation, or line breaks.\\n' +\n    '- You MUST NOT invent any new lyrics.\\n' +\n    '- You MUST preserve the original order of all lyric lines.\\n\\n' +\n    '2. Always output TWO parts only\\n' +\n    'You must ALWAYS output exactly two sections in this order:\\n\\n' +\n    '### Styles\\n' +\n    '```text\\n' +\n    '(Styles content here)\\n' +\n    '```\\n\\n' +\n    '### Lyrics\\n' +\n    '```text\\n' +\n    '(Lyrics content here)\\n' +\n    '```\\n\\n' +\n    'Do NOT output anything before or after these two sections.\\n\\n' +\n    '3. Styles requirements\\n' +\n    '- Language: English only.\\n' +\n    '- Length: you MUST NOT exceed 900 characters, including spaces. Your target range is 750–850 characters. If your drafted Styles text is longer than 900 characters, you MUST shorten and compress it BEFORE you output your final answer.\\n' +\n    '- Purpose: describe the overall sound of this specific COVER VERSION, including:\\n' +\n    '  - Overall genres / style labels (e.g., pop, rock, ballad, symphonic, ambient, etc., combined as needed).\\n' +\n    '  - Vocal character and evolution (e.g., intimate, breathy, warm, powerful, belt, falsetto, etc.).\\n' +\n    '  - Dynamic contour across the whole song (e.g., restrained verse → build-up → explosive chorus → drop → grand finale).\\n' +\n    '  - Core instrumentation and arrangement (e.g., solo piano, acoustic guitar, distorted electric guitars, full string ensemble, live drums, synth pads, etc.).\\n' +\n    '  - Production / space feel if relevant (e.g., studio clean vs live concert feeling, dry vs reverb-heavy, wide stereo image, etc.).\\n' +\n    '- The Styles description MUST:\\n' +\n    '  - Stay consistent with the target artist and reference songs provided by the user.\\n' +\n    '  - Respect the user’s style notes and extra notes as much as possible.\\n' +\n    '- Writing style for Styles:\\n' +\n    '  - Use dense, information-rich sentences.\\n' +\n    '  - Avoid repeating the same idea with different words.\\n' +\n    '  - Do not list long chains of near-synonyms.\\n' +\n    '  - Prioritize key information about genre, vocal character, dynamics, instrumentation, and mood; omit minor decorative details if necessary to stay under the length limit.\\n\\n' +\n    '4. Lyrics requirements: section-by-section attribute list\\n' +\n    'For the \"Lyrics\" part, you MUST use an attribute-list format:\\n\\n' +\n    '- For each SECTION:\\n' +\n    '  1) Use a standardized English section label in square brackets, for example:\\n' +\n    '     [Intro], [Verse 1], [Verse 2], [Pre-Chorus], [Chorus], [Chorus 2], [Bridge], [Interlude], [Outro].\\n' +\n    '  2) Under that label, write 2–4 attribute lines in the form:\\n' +\n    '     [Key: Value]\\n' +\n    '  3) After the attribute lines, paste the original lyrics for that section EXACTLY as provided by the user.\\n\\n' +\n    'Example pattern (this is only a pattern, NOT actual content):\\n\\n' +\n    '[Verse 1]\\n' +\n    '[Vocal: Warm, intimate female vocal, close-mic]\\n' +\n    '[Dynamics: Soft and restrained, subtle build into the last line]\\n' +\n    '[Instrument: Piano and subtle strings, light percussion]\\n' +\n    '[Mood: Nostalgic, bittersweet, reflective]\\n\\n' +\n    '(Original lyrics lines here, unchanged)\\n\\n' +\n    '5. Standardized section labels and mapping from user labels\\n' +\n    '- The user’s raw lyrics may contain non-standard labels such as:\\n' +\n    '  【主歌】, 【主歌1】, [主歌], [verse], [Verse], 【副歌】, [chorus], 【桥段】, 【前奏】, 【间奏】, etc.\\n' +\n    '- Your job is to INTERPRET these raw labels and map them onto standardized English labels in your output.\\n' +\n    '- Mapping guidelines:\\n' +\n    '  - All main narrative sections → [Verse 1], [Verse 2], [Verse 3], … in order of appearance.\\n' +\n    '  - Repeated hook / main message sections → [Chorus], [Chorus 2], [Chorus 3], … in order of appearance.\\n' +\n    '  - Transitional build sections → [Pre-Chorus] (and numbered if multiple distinct ones).\\n' +\n    '  - Intro sections → [Intro].\\n' +\n    '  - Instrumental breaks → [Interlude].\\n' +\n    '  - Bridges → [Bridge].\\n' +\n    '  - Ending sections → [Outro].\\n' +\n    '- You are allowed to change ONLY the section labels. You are NOT allowed to change the lyrics content or order.\\n\\n' +\n    '6. Attribute keys and vocabulary\\n' +\n    '- All attribute keys and values MUST be in English.\\n' +\n    '- Use the following keys whenever helpful (you do NOT need to use all of them for every section):\\n' +\n    '  - Vocal, Dynamics, Instrument, Texture, Mood, Arrangement, Harmony, Rhythm, FX.\\n' +\n    '- For values, you should use short, precise musical phrases. You can combine and reuse terms such as:\\n' +\n    '  - Vocal: warm, airy, breathy, raspy, powerful, intimate, close-mic, distant, belt, falsetto, head voice, chest voice, mixed voice, double-tracked, harmonized, a cappella, call and response, etc.\\n' +\n    '  - Dynamics: soft, medium, loud, gradually building, crescendo, decrescendo, explosive, accented, staccato, legato, sustained, etc.\\n' +\n    '  - Instrument: solo piano, acoustic guitar, electric guitar, distorted guitar, bass, string quartet, full string ensemble, synth pad, analog synth bass, live drum kit, electronic drums, etc.\\n' +\n    '  - Texture: sparse, dense, layered, atmospheric, monophonic, homophonic, polyphonic, wide stereo, narrow, etc.\\n' +\n    '  - Mood: nostalgic, melancholic, hopeful, uplifting, bittersweet, dark, tense, peaceful, triumphant, etc.\\n' +\n    '  - Arrangement / Rhythm / FX: verse-chorus-bridge form, syncopated groove, straight 4/4, reverb-heavy, delay, compression, distortion, filtered intro, etc.\\n' +\n    '- These terms are inspired by the official “Music Glossary for Suno”. You do not need to explain them; just use them appropriately in Keys and Values.\\n\\n' +\n    '7. Handling instrumental sections\\n' +\n    '- If a section has NO lyrics (e.g., Intro, Interlude, Outro), you MUST:\\n' +\n    '  - Still create the section label and 2–4 attribute lines.\\n' +\n    '  - Make it explicit that it is instrumental only, for example:\\n' +\n    '    [Vocal: No vocal, purely instrumental section]\\n' +\n    '  - Do NOT fabricate any humming or nonsense syllables.\\n\\n' +\n    '8. Language rules\\n' +\n    '- Styles: English only.\\n' +\n    '- All [Key: Value] attribute lines: English only.\\n' +\n    '- Original lyrics: keep in the original language exactly as provided (often Chinese).\\n' +\n    '- You may read and understand the user’s Chinese notes and labels, but you MUST NOT copy Chinese text into Styles or into any [Key: Value] line.\\n\\n' +\n    '9. Internal QA checklist before finalizing your answer\\n' +\n    'Before you output the result, mentally check that:\\n\\n' +\n    '- You have output exactly two sections with the exact headings:\\n' +\n    '  \"### Styles\" and \"### Lyrics\".\\n' +\n    '- The Styles section is written in English and is clearly under 900 characters (including spaces). If it might be close to the limit, you MUST shorten it further before outputting.\\n' +\n    '- Every lyric section has:\\n' +\n    '  - One standardized English section label in square brackets.\\n' +\n    '  - 2–4 [Key: Value] lines with English Keys and Values.\\n' +\n    '  - The original lyrics reproduced exactly, with the same lines and order.\\n' +\n    '- You have not invented, removed, or altered any lyrics.\\n' +\n    '- You have reasonably interpreted user labels into standardized English labels and numbered them in order of appearance.\\n' +\n    '- Styles and Lyrics are consistent with each other (no contradictions in dynamics, instrumentation, or mood).\\n\\n' +\n    'If any rule conflicts with another, ALWAYS prioritize preserving the original lyrics and keeping the required output format.';\n\n  // 生成用户提示：根据请求参数生成包含具体歌曲信息的用户提示\n  const userPrompt = generateUserPrompt(values);\n\n  // 调用 DeepSeek API：使用系统提示和用户提示生成 AI 响应\n  const response = await fetch('https://api.deepseek.com/chat/completions', {\n    method: 'POST',\n    headers: {\n      'Authorization': 'Bearer ' + values.apiKey,  // API 认证头\n      'Content-Type': 'application/json'           // 请求内容类型\n    },\n    body: JSON.stringify({\n      'model': 'deepseek-chat',  // 使用的 AI 模型\n      'messages': [              // 消息数组：系统提示 + 用户提示\n        {\n          'role': 'system',\n          'content': systemPrompt\n        },\n        {\n          'role': 'user',\n          'content': userPrompt\n        }\n      ],\n      'stream': false  // 非流式响应，等待完整结果\n    })\n  });\n\n  // 检查 API 响应状态\n  if (!response.ok) {\n    // 尝试解析 API 错误响应，获取更详细的错误信息\n    let errorMessage = 'API请求失败: ' + response.status;\n    try {\n      const errorData = await response.json();\n      if (errorData.error && errorData.error.message) {\n        errorMessage = `API请求失败: ${errorData.error.message}`;\n      }\n    } catch (parseError) {\n      // 如果无法解析错误响应，使用默认错误信息\n    }\n    throw new Error(errorMessage);\n  }\n\n  // 解析 API 响应\n  const data = await response.json();\n  const aiOutput = data.choices[0].message.content;  // 提取 AI 生成的内容\n\n  // 使用正则表达式解析 AI 输出，提取 Styles 和 Lyrics 部分\n  // 正则匹配规则：寻找 ### Styles 或 ### Lyrics 标记下的 ```text 代码块\n  const stylesMatch = aiOutput.match(/### Styles[\\s\\S]*?```text\\n(.*?)```/s);\n  const lyricsMatch = aiOutput.match(/### Lyrics[\\s\\S]*?```text\\n(.*?)```/s);\n\n  // 验证解析结果，确保同时提取到 Styles 和 Lyrics\n  if (stylesMatch && lyricsMatch) {\n    return {\n      styles: stylesMatch[1].trim(),  // 提取并清理 Styles 内容\n      lyrics: lyricsMatch[1].trim()   // 提取并清理 Lyrics 内容\n    };\n  } else {\n    throw new Error('AI输出格式不符合预期，无法提取Styles或Lyrics');\n  }\n};\n","/**\n * 模拟数据服务模块\n * 负责提供模拟生成所需的固定数据和逻辑\n * 用于开发环境下的功能测试，避免频繁调用真实API\n */\n\n// 固定的Styles内容\nexport const MOCK_STYLES = `Symphonic Pop-Rock, Mandopop, Baroque Pop-Rock, J-Rock Influence, Heavy distorted guitars over symphonic orchestration, Sophisticated Chord Progressions. Breathy Female Vocals, Clear Emotive Tone, Soaring High Notes, Sustained High Notes, Moderate Vibrato, Introspective to Powerful. Theatrical, Epic.\nINTRO: Cinematic atmosphere, slow build up, high strings ensemble in lyrical counterpoint over classical piano arpeggios and warm pad.\nVERSE: Breathy female vocals (introspective tone), delicate piano, acoustic guitar arpeggios, light percussion.\nPRE-CHORUS: Emotional crescendo, dramatic build-up.\nCHORUS: Powerful belting vocals, sustained high notes, richly stacked harmonies, heavy distorted guitars + power chords, high strings unison counterpoint, fast driving cinematic drums, huge wall of sound.\nINTERLUDE: Lyrical electric guitar solo trading melodies with high strings.\nBRIDGE: Emotional climax, building high tension.\nOUTRO: Fading out with piano arpeggio and soft strings.`;\n\n// 固定的Lyrics内容\nexport const MOCK_LYRICS = `[Intro Chorus]\n[Arrangement: Ethereal atmosphere, Cold Open]\n[Instrument: Classical Grand Piano only, No Drums, No Guitar]\n[Dynamics: mp, emotional and intimate]\nForever Forever\n无论你走到哪\n也要在同一片天空下发光\nForever Forever\n把徬徨的心都点亮\n拥抱彼此的模样\n永恒回忆就像恒星不忘\n\n[Instrumental Hook]\n[Arrangement: Sudden Energy Explosion, J-Rock Influence]\n[Instrument: Heavy Distorted Guitars, High Strings Ensemble, Driving Rock Drums]\n[Dynamics: ff, Epic Start]\n\n[Verse 1]\n[Vocal: Breathy female vocals, Introspective tone, Near microphone]\n[Instrument: Minimalist Piano, Broken Chords, Bass pulse enters]\n[Dynamics: p, gentle storytelling]\n流星划过喧扰穹苍\n可曾回应谁的愿望\n我已走到儿时的远方\n却遗失了自己的模样\n\n[Verse 2]\n[Vocal: Clear emotive tone, slightly stronger presence]\n[Arrangement: Building up]\n[Instrument: Acoustic Guitar Strumming, Piano high notes, Light Snare]\n[Dynamics: mp -> mf, flowing]\n梦想逐渐增加重量\n我们是否不再幻想\n用尽整个青春去荒唐\n也用整个人生去飞翔\n\n[Chorus 1]\n[Vocal: Power belting, Sustained high notes, Layered Harmonies]\n[Texture: Wall of Sound, Symphonic Rock]\n[Instrument: Heavy Distorted Guitars (Power Chords), High Strings Unison Counterpoint, Bright Piano Octaves]\n[Dynamics: f, explosive release]\nForever Forever\n无论你走到哪\n也要在同一片天空下发光\nForever Forever\n把徬徨的心都点亮\n拥抱彼此的模样\n永恒回忆就像恒星不忘\n\n[Instrumental Interlude]\n[Arrangement: J-Rock influence, soaring atmosphere]\n[Instrument: Lyrical electric guitar solo trading melodies with High Strings Section (Duel)]\n[Dynamics: ff]\n\n[Verse 3]\n[Vocal: Clear emotive tone, emotional friction]\n[Instrument: Acoustic Guitar Strumming dominant, String Staccato Rhythm, Piano counter-melody]\n[Dynamics: mf, driving rhythm]\n庆幸这场别来无恙\n沉默里藏着太多话\n岁月从不放过谁脸庞\n却也在心中留下宝藏\n\n[Verse 4]\n[Vocal: High tension, dramatic delivery, Double Tracking]\n[Arrangement: Orchestral Swell, Strings Tremolo]\n[Instrument: Intense Strumming, Heavy Piano Chords, Snare Rolls]\n[Dynamics: mf -> f, dramatic push]\n烟火再次绽放辉煌\n失落瞳孔倒映希望\n每当前路风横雨又狂\n让我再陪你展开翅膀\n\n[Chorus 2]\n[Vocal: Intense belting, Richly Stacked Harmonies]\n[Texture: Dense Wall of Sound]\n[Instrument: Heavy Distorted Guitars, High Strings Unison Counterpoint, Crash Cymbals]\n[Dynamics: ff, Driving Power]\nForever Forever\n无论你走到哪\n也要在同一片天空下发光\nForever Forever\n把徬徨的心都点亮\n拥抱彼此的模样\n永恒回忆就像恒星不忘\n\n[Grand Chorus]\n[Vocal: Ultimate high notes, Choir Backing, Octave Doubles, High Pitch Ad-libs]\n[Arrangement: Explosive anthemic grand finale chorus]\n[Instrument: Maximum Distorted Wall, Soaring Strings Melody, Bright Piano Glissando, Full Orchestra]\n[Dynamics: fff, Anthemic, Epic Finale]\nForever Forever\n无论你走到哪\n也要在同一片天空下发光\nForever Forever\n把徬徨的心都点亮\n重回最好的时光\n永恒回忆就像恒星不忘\n\n[Instrumental Outro]\n[Arrangement: Fading out]\n[Instrument: Piano Arpeggios, Soft Strings]\n[Dynamics: Diminuendo, pp]`;\n\n/**\n * 模拟生成函数\n * 模拟调用DeepSeek API的过程，延迟15秒后返回固定的模拟数据\n * @returns Promise<{ styles: string; lyrics: string }> 包含模拟生成的Styles和Lyrics\n */\nexport const mockGenerate = async (): Promise<{ styles: string; lyrics: string }> => {\n  // 模拟5秒延迟\n  await new Promise(resolve => setTimeout(resolve, 5000));\n  return {\n    styles: MOCK_STYLES,\n    lyrics: MOCK_LYRICS\n  };\n};\n","import { CopyOutlined } from '@ant-design/icons';\nimport {\n  PageContainer,\n  ProCard,\n  ProForm,\n  ProFormCheckbox,\n  ProFormList,\n  ProFormSelect,\n  ProFormText,\n  ProFormTextArea,\n} from '@ant-design/pro-components';\nimport {\n  Button,\n  Col,\n  Divider,\n  Flex,\n  Form,\n  message,\n  Row,\n  Space,\n  Spin,\n} from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport type { PromptRecord } from '@/services/db';\nimport { db } from '@/services/db';\nimport { callDeepSeekAPI, type GenerateRequest } from '@/services/deepseek';\nimport { mockGenerate } from '@/services/mockData';\n\nconst SunoCover: React.FC = () => {\n  // 表单实例\n  const [form] = Form.useForm<GenerateRequest>();\n\n  // 状态管理\n  const [loading, setLoading] = useState(false);\n  const [stylesResult, setStylesResult] = useState('');\n  const [lyricsResult, setLyricsResult] = useState('');\n\n  // 从localStorage加载API Key和记录数据\n  useEffect(() => {\n    // 加载API Key\n    const savedApiKey = localStorage.getItem('deepseekApiKey');\n    if (savedApiKey) {\n      form.setFieldsValue({\n        apiKey: savedApiKey,\n        rememberApiKey: true,\n      });\n    }\n\n    // 加载记录数据\n    const selectedRecord = localStorage.getItem('selectedPromptRecord');\n    if (selectedRecord) {\n      try {\n        const record: PromptRecord = JSON.parse(selectedRecord);\n\n        // 填充表单数据\n        form.setFieldsValue({\n          song_language: record.userInput.songLanguage,\n          target_artist: record.userInput.targetSinger,\n          reference_songs: record.userInput.referenceSongs.map((song) => {\n            const [title, artist] = song.split(' - ');\n            return {\n              title: title.trim(),\n              artist: artist?.trim() || '',\n            };\n          }),\n          style_note: record.userInput.styleDescription,\n          extra_note: record.userInput.scene,\n          lyrics_raw: record.userInput.lyrics,\n        });\n\n        // 填充结果数据\n        setStylesResult(record.deepSeekResult.styles);\n        setLyricsResult(record.deepSeekResult.lyrics);\n\n        // 清空localStorage中的记录数据\n        localStorage.removeItem('selectedPromptRecord');\n      } catch (error) {\n        console.error('解析记录数据失败:', error);\n      }\n    }\n  }, [form]);\n\n  // 表单提交处理\n  const handleSubmit = async (values: GenerateRequest) => {\n    // 保存API Key到localStorage\n    if (values.rememberApiKey) {\n      localStorage.setItem('deepseekApiKey', values.apiKey);\n    } else {\n      localStorage.removeItem('deepseekApiKey');\n    }\n\n    // 调用API\n    setLoading(true);\n    try {\n      const result = await callDeepSeekAPI(values);\n      setStylesResult(result.styles);\n      setLyricsResult(result.lyrics);\n      message.success('生成成功！');\n\n      // 保存记录到数据库\n      try {\n        // 模拟当前用户ID，实际应用中应该从登录状态获取\n        const userId = 1;\n\n        // 转换参考歌曲为字符串数组\n        const referenceSongs = values.reference_songs\n          .filter((song) => song.title)\n          .map(\n            (song) => `${song.title}${song.artist ? ` - ${song.artist}` : ''}`,\n          );\n\n        await db.createPromptRecord({\n          userId,\n          userInput: {\n            songLanguage: values.song_language,\n            targetSinger: values.target_artist,\n            referenceSongs,\n            styleDescription: values.style_note || '',\n            lyrics: values.lyrics_raw,\n            scene: values.extra_note || '',\n          },\n          deepSeekResult: {\n            styles: result.styles,\n            lyrics: result.lyrics,\n          },\n        });\n        console.log('记录已保存到数据库');\n      } catch (dbError) {\n        console.error('保存记录到数据库失败:', dbError);\n        // 数据库保存失败不影响用户体验，仅记录日志\n      }\n    } catch (error) {\n      // 捕获并显示具体的错误信息\n      console.error('API调用失败:', error);\n      const errorMessage =\n        error instanceof Error\n          ? error.message\n          : '调用DeepSeek API失败，请检查API Key或稍后重试。';\n      message.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 复制到剪贴板\n  const copyToClipboard = (text: string, type: string) => {\n    navigator.clipboard\n      .writeText(text)\n      .then(() => {\n        message.success(`${type}已复制到剪贴板！`);\n      })\n      .catch(() => {\n        message.error('复制失败，请手动复制。');\n      });\n  };\n\n  // 定义模拟生成函数，使用外部服务的mockGenerate\n  const handleMockGenerate = async () => {\n    setLoading(true);\n    try {\n      // 调用模拟生成服务\n      const result = await mockGenerate();\n      // 回填页面内容\n      setStylesResult(result.styles);\n      setLyricsResult(result.lyrics);\n      message.success('模拟生成成功！');\n\n      // 保存记录到数据库\n      try {\n        // 模拟当前用户ID，实际应用中应该从登录状态获取\n        const userId = 1;\n\n        // 从表单获取数据，使用getFieldsValue而不是validateFields，避免必填字段验证失败\n        const formValues = form.getFieldsValue();\n\n        // 转换参考歌曲为字符串数组\n        const referenceSongs = (formValues.reference_songs || [])\n          .filter((song: any) => song.title)\n          .map(\n            (song: any) =>\n              `${song.title}${song.artist ? ` - ${song.artist}` : ''}`,\n          );\n\n        // 确保必填字段有默认值\n        const songLanguage = formValues.song_language || 'Mandarin';\n        const targetSinger = formValues.target_artist || '未知歌手';\n        const lyrics = formValues.lyrics_raw || '无歌词';\n\n        await db.createPromptRecord({\n          userId,\n          userInput: {\n            songLanguage,\n            targetSinger,\n            referenceSongs,\n            styleDescription: formValues.style_note || '',\n            lyrics,\n            scene: formValues.extra_note || '',\n          },\n          deepSeekResult: {\n            styles: result.styles,\n            lyrics: result.lyrics,\n          },\n        });\n        console.log('模拟记录已保存到数据库');\n        message.success('记录已保存到数据库！');\n      } catch (dbError) {\n        console.error('保存模拟记录到数据库失败:', dbError);\n        message.error('保存记录到数据库失败，请检查控制台日志。');\n      }\n    } catch (error) {\n      console.error('模拟生成失败:', error);\n      message.error('模拟生成失败，请稍后重试。');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 准备卡片操作按钮\n  // 仅在非生产环境显示模拟生成按钮\n  // 开发环境强制显示模拟按钮，生产环境构建时自动移除\n  // 为了确保开发环境能看到模拟按钮，我们暂时强制设置为false\n  const isProduction = false;\n\n  return (\n    <PageContainer>\n      {/* 全屏加载器 */}\n      <Spin\n        spinning={loading}\n        fullscreen\n        tip=\"生成中，请耐心等待\"\n        size=\"large\"\n      />\n      <Row gutter={[24, 0]}>\n        {/* 左侧输入表单 */}\n        <Col span={8}>\n          <ProCard\n            title=\"翻唱设置\"\n            actions={[\n              <Flex\n                key=\"buttons\"\n                vertical\n                gap=\"small\"\n                style={{ width: '100%', padding: '0 16px' }}\n              >\n                {/* 主要生成按钮 */}\n                <Button\n                  type=\"primary\"\n                  onClick={() => form.submit()}\n                  loading={loading}\n                  size=\"large\"\n                  block\n                >\n                  生成提示词\n                </Button>\n\n                {/* 仅在非生产环境显示模拟生成按钮 */}\n                {!isProduction && (\n                  <Button\n                    onClick={handleMockGenerate}\n                    loading={loading}\n                    size=\"large\"\n                    type=\"text\"\n                    block\n                  >\n                    模拟提示词\n                  </Button>\n                )}\n              </Flex>,\n            ]}\n          >\n            <ProForm\n              form={form}\n              layout=\"vertical\"\n              onFinish={handleSubmit}\n              initialValues={{\n                song_language: 'Mandarin',\n                reference_songs: [{ title: '', artist: '' }],\n                rememberApiKey: false,\n              }}\n              submitter={false}\n            >\n              {/* DeepSeek API Key */}\n              <ProFormText.Password\n                name=\"apiKey\"\n                label=\"DeepSeek API Key\"\n                placeholder=\"请输入DeepSeek API Key\"\n                rules={[{ required: true, message: '请输入DeepSeek API Key' }]}\n              />\n\n              <ProFormCheckbox name=\"rememberApiKey\" label=\"记住在本机\" />\n\n              <Divider />\n\n              {/* 歌曲语言 */}\n              <ProFormSelect\n                name=\"song_language\"\n                label=\"歌曲语言\"\n                placeholder=\"请选择歌曲语言\"\n                rules={[{ required: true, message: '请选择歌曲语言' }]}\n                options={[\n                  { value: 'Mandarin', label: '华语（普通话）' },\n                  { value: 'Cantonese', label: '粤语' },\n                  { value: 'Minnan', label: '闽南语' },\n                  { value: 'English', label: '英语' },\n                  { value: 'Korean', label: '韩语' },\n                  { value: 'Japanese', label: '日语' },\n                  { value: 'Other', label: '其他' },\n                ]}\n              />\n\n              {/* 参考艺术家 */}\n              <ProFormText\n                name=\"target_artist\"\n                label=\"模仿哪位艺术家？\"\n                placeholder=\"例如：张惠妹、陈奕迅、周杰伦……\"\n                rules={[{ required: true, message: '请输入模仿艺术家名称' }]}\n              />\n\n              {/* 参考歌曲 */}\n              <ProFormList\n                name=\"reference_songs\"\n                label=\"参考歌曲（0-3首，可选）\"\n                rules={[\n                  {\n                    validator: (_, songs) => {\n                      if (songs && songs.length > 3) {\n                        return Promise.reject(new Error('参考歌曲最多3首'));\n                      }\n                      return Promise.resolve();\n                    },\n                  },\n                ]}\n                initialValue={[{ title: '', artist: '' }]}\n                creatorButtonProps={{\n                  creatorButtonText: '添加参考歌曲',\n                  type: 'dashed',\n                  block: true,\n                }}\n                deleteIconProps={{\n                  tooltipText: '删除参考歌曲',\n                }}\n                copyIconProps={false}\n                max={3}\n              >\n                {(meta, _index, _action, _count) => (\n                  <Space\n                    key={meta.key}\n                    style={{ width: '100%' }}\n                    align=\"center\"\n                    size=\"middle\"\n                  >\n                    <ProFormText\n                      {...meta}\n                      name={[meta.name, 'title']}\n                      placeholder=\"歌曲名\"\n                      rules={[{ required: true, message: '歌曲名不能为空' }]}\n                      style={{ flex: 1, marginBottom: 0 }}\n                    />\n                    <ProFormText\n                      {...meta}\n                      name={[meta.name, 'artist']}\n                      placeholder=\"演唱者（选填）\"\n                      style={{ flex: 1, marginBottom: 0 }}\n                    />\n                  </Space>\n                )}\n              </ProFormList>\n\n              {/* 风格备注 */}\n              <ProFormTextArea\n                name=\"style_note\"\n                label=\"风格备注（选填）\"\n                placeholder=\"例如：主歌要像《人质》一样极度克制，副歌接近《听海》的情绪爆发。\"\n                rows={3}\n              />\n\n              {/* 附加说明 */}\n              <ProFormTextArea\n                name=\"extra_note\"\n                label=\"特殊说明（场景/受众等，可选）\"\n                placeholder=\"例如：演唱会现场，录音室版本……\"\n                rows={2}\n              />\n\n              {/* 歌词全文 */}\n              <ProFormTextArea\n                name=\"lyrics_raw\"\n                label=\"段落和歌词\"\n                placeholder=\"请输入歌词，自行用任意标签划分段落，如：【主歌】、【副歌】、[Verse]、[Chorus] 等\"\n                rules={[\n                  { required: true, message: '请输入歌词' },\n                  { max: 2000, message: '歌词长度不能超过2000字' },\n                ]}\n                rows={8}\n              />\n            </ProForm>\n          </ProCard>\n        </Col>\n\n        {/* 中间Styles输出 */}\n        <Col span={8}>\n          <ProCard\n            title=\"Styles（可直接复制投喂Suno）\"\n            extra={\n              <Button\n                type=\"text\"\n                icon={<CopyOutlined />}\n                onClick={() => copyToClipboard(stylesResult, 'Styles')}\n                disabled={!stylesResult}\n                size=\"small\"\n              >\n                复制\n              </Button>\n            }\n            style={{ marginBottom: 24 }}\n          >\n            <ProFormTextArea\n              value={stylesResult}\n              readOnly\n              placeholder=\"生成的Styles将显示在这里...\"\n            />\n          </ProCard>\n        </Col>\n\n        {/* 右侧Lyrics输出 */}\n        <Col span={8}>\n          <ProCard\n            title=\"Lyrics（可直接复制投喂Suno）\"\n            extra={\n              <Button\n                type=\"text\"\n                icon={<CopyOutlined />}\n                onClick={() => copyToClipboard(lyricsResult, 'Lyrics')}\n                disabled={!lyricsResult}\n                size=\"small\"\n              >\n                复制\n              </Button>\n            }\n            style={{ marginBottom: 24 }}\n          >\n            <ProFormTextArea\n              value={lyricsResult}\n              readOnly\n              placeholder=\"生成的Lyrics将显示在这里...\"\n            />\n          </ProCard>\n        </Col>\n      </Row>\n    </PageContainer>\n  );\n};\n\nexport default SunoCover;\n"],"names":[],"mappings":"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"}