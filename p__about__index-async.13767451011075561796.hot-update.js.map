{"version":3,"sources":["p__about__index-async.13767451011075561796.hot-update.js","config/defaultSettings.ts","src/components/ProTableWrapper.tsx","src/pages/about/index.tsx","src/hooks/useApiKey.ts","src/pages/ai-setting/index.tsx","src/hooks/usePromptRecords.ts"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'p__about__index',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='14975639527807667370';\nruntime.updateEnsure2Map({\"src/.umi/plugin-layout/Layout.tsx\":[\"vendors\",\"src/.umi/plugin-layout/Layout.tsx\"],\"src/.umi/plugin-openapi/openapi.tsx\":[\"vendors\",\"src/.umi/plugin-openapi/openapi.tsx\"],\"src/pages/404.tsx\":[\"p__404\"],\"src/pages/about/index.tsx\":[\"vendors\",\"p__about__index\"],\"src/pages/ai-setting/index.tsx\":[\"vendors\",\"common\",\"src/pages/ai-setting/index.tsx\"],\"src/pages/changelog/index.tsx\":[\"vendors\",\"p__changelog__index\"],\"src/pages/lyrics-craft/index.tsx\":[\"vendors\",\"common\",\"src/pages/lyrics-craft/index.tsx\"],\"src/pages/lyrics-records/index.tsx\":[\"vendors\",\"common\",\"src/pages/lyrics-records/index.tsx\"],\"src/pages/record/index.tsx\":[\"vendors\",\"common\",\"p__record__index\"],\"src/pages/suno-cover/index.tsx\":[\"vendors\",\"common\",\"src/pages/suno-cover/index.tsx\"]});;\n  },\n);\n","import type { ProLayoutProps } from '@ant-design/pro-components';\n\n/**\n * @name\n */\nconst Settings: ProLayoutProps & {\n  pwa?: boolean;\n  logo?: string;\n} = {\n  navTheme: 'light',\n  // 拂晓蓝\n  colorPrimary: 'ff9000',\n  layout: 'mix',\n  contentWidth: 'Fluid',\n  fixedHeader: false,\n  fixSiderbar: true,\n  colorWeak: false,\n  title: '翻唱编曲大师',\n  pwa: true,\n  logo: 'logo.svg',\n  iconfontUrl: '',\n  token: {\n    // 参见ts声明，demo 见文档，通过token 修改样式\n    //https://procomponents.ant.design/components/layout#%E9%80%9A%E8%BF%87-token-%E4%BF%AE%E6%94%B9%E6%A0%B7%E5%BC%8F\n  },\n};\n\nexport default Settings;\n","import {\n  type ProColumns,\n  ProTable,\n  type RequestData,\n} from '@ant-design/pro-components';\nimport { Button, Space } from 'antd';\nimport React from 'react';\n\ninterface ProTableWrapperProps<T extends Record<string, any>> {\n  /** 表格列配置 */\n  columns: ProColumns<T>[];\n  /** 数据请求函数 */\n  request?: (\n    params: any,\n    sort: Record<string, 'ascend' | 'descend' | null>,\n    filter: Record<string, (string | number)[] | null>,\n  ) => Promise<Partial<RequestData<T>>>;\n  /** 数据源 */\n  dataSource?: T[];\n  /** 加载状态 */\n  loading?: boolean;\n  /** 表格标题 */\n  title?: string;\n  /** 是否显示搜索栏 */\n  showSearch?: boolean;\n  /** 是否显示操作按钮 */\n  showActions?: boolean;\n  /** 自定义操作按钮 */\n  actionButtons?: React.ReactNode[];\n  /** 表格行键 */\n  rowKey?: string;\n  /** 分页配置 */\n  pagination?: any;\n  /** 搜索配置 */\n  searchConfig?: {\n    labelWidth?: 'auto' | number;\n    defaultCollapsed?: boolean;\n    span?: number;\n  };\n  /** 表格选项配置 */\n  options?: {\n    reload?: () => void;\n    density?: boolean;\n    fullScreen?: boolean;\n  };\n  /** 滚动配置 */\n  scroll?: {\n    x?: number | string;\n    y?: number | string;\n  };\n  /** 表格变化处理函数 */\n  onChange?: (pagination: any, filters: any, sorter: any, extra: any) => void;\n}\n\nconst ProTableWrapper = <T extends Record<string, any>>({\n  columns,\n  request,\n  dataSource,\n  loading = false,\n  title,\n  showSearch = true,\n  showActions = false,\n  actionButtons = [],\n  rowKey = 'id',\n  pagination = {\n    pageSize: 10,\n    showSizeChanger: true,\n    showQuickJumper: true,\n    showTotal: (total: number) => `共 ${total} 条记录`,\n  },\n  searchConfig = {\n    labelWidth: 'auto',\n    defaultCollapsed: false,\n    span: 6,\n  },\n  options = {\n    reload: () => {},\n    density: true,\n    fullScreen: true,\n  },\n  scroll,\n  onChange,\n}: ProTableWrapperProps<T>) => {\n  return (\n    <>\n      {showActions && actionButtons.length > 0 && (\n        <Space style={{ marginBottom: 16 }}>{actionButtons}</Space>\n      )}\n      <ProTable\n        rowKey={rowKey}\n        columns={columns}\n        request={request}\n        dataSource={dataSource}\n        loading={loading}\n        pagination={pagination}\n        headerTitle={title}\n        options={options}\n        scroll={scroll}\n        search={showSearch ? searchConfig : false}\n        onChange={(_pagination, _filters, _sorter, _extra) =>\n          onChange?.(_pagination, _filters, _sorter, _extra)\n        }\n      />\n    </>\n  );\n};\n\nexport default ProTableWrapper;\n","import { PageContainer } from '@ant-design/pro-components';\nimport { XMarkdown } from '@ant-design/x-markdown';\nimport { useModel } from '@umijs/max';\nimport { Card, Spin, Typography } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport '@ant-design/x-markdown/themes/light.css';\nimport '@ant-design/x-markdown/themes/dark.css';\n\n// 构建时注入的README内容（通过构建脚本处理）\ndeclare global {\n  const __README_CONTENT__: string;\n}\n\nconst About: React.FC = () => {\n  const [readmeContent, setReadmeContent] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(true);\n  // 获取全局初始状态，包含主题设置\n  const { initialState } = useModel('@@initialState');\n  // 根据主题设置确定XMarkdown的主题类\n  const isDarkTheme = initialState?.settings?.navTheme === 'realDark';\n  const markdownThemeClass = isDarkTheme\n    ? 'x-markdown-dark'\n    : 'x-markdown-light';\n\n  useEffect(() => {\n    // 开发环境：使用mock API获取内容\n    // 生产环境：使用构建时注入的内容\n    if (process.env.NODE_ENV === 'production') {\n      // 生产环境：使用构建时注入的内容\n      if (typeof __README_CONTENT__ !== 'undefined') {\n        setReadmeContent(__README_CONTENT__);\n        setLoading(false);\n      } else {\n        // 如果构建时注入失败，尝试从dist目录读取\n        fetch('./README.md')\n          .then((response) => response.text())\n          .then((content) => {\n            setReadmeContent(content);\n            setLoading(false);\n          })\n          .catch(() => {\n            setReadmeContent('# 项目介绍\\n\\n无法加载README.md内容');\n            setLoading(false);\n          });\n      }\n    } else {\n      // 开发环境：使用mock API\n      const fetchReadme = async () => {\n        try {\n          const response = await fetch('/api/readme');\n          if (response.ok) {\n            const content = await response.text();\n            setReadmeContent(content);\n          } else {\n            console.error('Failed to fetch README.md');\n            setReadmeContent('# 项目介绍\\n\\n无法加载README.md内容');\n          }\n        } catch (error) {\n          console.error('Error fetching README.md:', error);\n          setReadmeContent('# 项目介绍\\n\\n无法加载README.md内容');\n        } finally {\n          setLoading(false);\n        }\n      };\n\n      fetchReadme();\n    }\n  }, []);\n\n  return (\n    <PageContainer title=\"项目介绍\">\n      <Card>\n        {loading ? (\n          <div style={{ textAlign: 'center', padding: '40px' }}>\n            <Spin size=\"large\" />\n          </div>\n        ) : (\n          <XMarkdown className={markdownThemeClass}>{readmeContent}</XMarkdown>\n        )}\n      </Card>\n    </PageContainer>\n  );\n};\n\nexport default About;\n","import { useEffect, useState } from 'react';\nimport { db } from '@/services/db';\n\nexport const useApiKey = () => {\n  const [apiKey, setApiKey] = useState<string>('');\n  const [model, setModel] = useState<string>('deepseek');\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n\n  // 加载指定模型的API Key\n  const loadApiKeyForModel = async (targetModel: string) => {\n    try {\n      console.log('Loading API Key for model:', targetModel);\n      const userApiKeys = await db.getUserApiKeys(1);\n      console.log('All user API Keys:', userApiKeys);\n\n      // 查找指定模型的API Key\n      const modelApiKey = userApiKeys.find((key) => key.model === targetModel);\n      console.log('Found API Key for model', targetModel, ':', modelApiKey);\n\n      setApiKey(modelApiKey?.api_key || '');\n      setModel(targetModel);\n\n      // 将所有API Key的isCurrent设置为false，然后将指定模型的API Key设置为当前\n      console.log('Updating current API Key status for model', targetModel);\n      for (const key of userApiKeys) {\n        await db.updateApiKey(key.id!, {\n          is_current: key.model === targetModel,\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load API Key for model:', targetModel, error);\n      setApiKey('');\n      setModel(targetModel);\n    }\n  };\n\n  // 加载初始API Key和模型\n  useEffect(() => {\n    const loadInitialApiKeyAndModel = async () => {\n      try {\n        console.log('Loading initial API Key and Model...');\n\n        // 首先尝试获取当前设置的API Key\n        const currentApiKey = await db.getCurrentApiKey(1);\n\n        if (currentApiKey) {\n          console.log('Found current API Key:', currentApiKey);\n          setApiKey(currentApiKey.api_key);\n          setModel(currentApiKey.model);\n        } else {\n          // 如果没有当前API Key，默认使用deepseek并尝试加载其API Key\n          console.log('No current API Key found, using default model deepseek');\n          await loadApiKeyForModel('deepseek');\n        }\n      } catch (error) {\n        console.error('Failed to load initial API Key and Model:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadInitialApiKeyAndModel();\n  }, []);\n\n  // 切换模型的方法\n  const switchModel = async (newModel: string) => {\n    if (newModel === model) return; // 如果是同一个模型，不做任何操作\n\n    setIsLoading(true);\n    await loadApiKeyForModel(newModel);\n    setIsLoading(false);\n  };\n\n  // 保存 API Key 和模型（暂时使用用户ID 1，实际应用中需要从用户登录状态获取）\n  const saveApiKey = async (\n    newApiKey: string,\n    newModel: string = 'deepseek',\n  ) => {\n    try {\n      console.log('Saving API Key and Model:', {\n        apiKey: newApiKey,\n        model: newModel,\n      });\n      const savedApiKey = await db.createApiKey({\n        user_id: 1,\n        api_key: newApiKey,\n        model: newModel,\n        is_current: true,\n      });\n      console.log('Saved API Key and Model to DB:', savedApiKey);\n      setApiKey(newApiKey);\n      setModel(newModel);\n      return true;\n    } catch (error) {\n      console.error('Failed to save API Key and Model:', error);\n      return false;\n    }\n  };\n\n  // 删除 API Key（删除当前模型对应的API Key）\n  const deleteApiKey = async () => {\n    try {\n      console.log('Deleting API Key for model:', model);\n      // 获取当前用户该模型对应的API Key\n      const userApiKeys = await db.getUserApiKeys(1);\n      const modelApiKey = userApiKeys.find((key) => key.model === model);\n\n      if (modelApiKey) {\n        console.log('Deleting API Key with ID:', modelApiKey.id);\n        await db.deleteApiKey(modelApiKey.id!);\n      }\n\n      setApiKey('');\n      console.log('API Key deleted successfully');\n      return true;\n    } catch (error) {\n      console.error('Failed to delete API Key:', error);\n      return false;\n    }\n  };\n\n  // 验证API Key格式（支持不同模型的API Key格式）\n  const validateApiKey = (apiKeyToValidate: string) => {\n    // DeepSeek API Key格式：sk-开头的字符串\n    // Google Gemini API Key格式：AIza开头的字符串\n    // 小米MiMo API Key格式：sk-开头的字符串\n    const deepSeekRegex = /^sk-/;\n    const geminiRegex = /^AIza/;\n    const mimoRegex = /^sk-/;\n\n    const trimmedApiKey = apiKeyToValidate.trim();\n    return (\n      deepSeekRegex.test(trimmedApiKey) ||\n      geminiRegex.test(trimmedApiKey) ||\n      mimoRegex.test(trimmedApiKey)\n    );\n  };\n\n  return {\n    apiKey,\n    model,\n    isLoading,\n    saveApiKey,\n    deleteApiKey,\n    validateApiKey,\n    switchModel, // 新增切换模型的方法\n  };\n};\n","import { DeleteOutlined, SaveOutlined } from '@ant-design/icons';\nimport {\n  PageContainer,\n  ProCard,\n  ProForm,\n  ProFormText,\n} from '@ant-design/pro-components';\nimport { Alert, Form, message, Radio, Row, Space, Typography } from 'antd';\nimport { FormInstance } from 'antd/es/form';\nimport React, { useEffect } from 'react';\n\nimport { useApiKey } from '@/hooks/useApiKey';\nimport { db } from '@/services/db';\nimport type { ApiKey } from '@/shared/types/types';\n\nconst { Text, Paragraph, Title, Link } = Typography;\n\nconst AISettingPage: React.FC = () => {\n  // 使用自定义hook管理API Key，包括新添加的switchModel方法\n  const {\n    apiKey,\n    model,\n    isLoading,\n    saveApiKey,\n    deleteApiKey,\n    validateApiKey,\n    switchModel,\n  } = useApiKey();\n  // 创建 FormInstance 的引用\n  const [form] = Form.useForm();\n\n  // 当API Key加载完成后，设置到表单中\n  useEffect(() => {\n    if (!isLoading) {\n      form.setFieldsValue({\n        model: model || 'deepseek',\n        apiKey: apiKey,\n      });\n    }\n  }, [apiKey, model, isLoading, form]);\n\n  // 处理模型变化，使用新添加的switchModel方法\n  const handleModelChange = async (e: any) => {\n    const newModel = e.target.value;\n    console.log('Changing model to:', newModel);\n    await switchModel(newModel);\n  };\n\n  // 表单提交处理\n  const handleFormSubmit = async (values: {\n    model: string;\n    apiKey: string;\n  }) => {\n    // 验证API Key格式\n    if (!validateApiKey(values.apiKey)) {\n      message.error('API Key格式不正确，请输入有效的API Key');\n      return;\n    }\n\n    const result = await saveApiKey(values.apiKey, values.model);\n    if (result) {\n      message.success('API Key 已成功保存');\n    } else {\n      message.error('保存API Key失败，请稍后重试');\n    }\n  };\n\n  // 表单重置处理\n  const handleFormReset = async () => {\n    const result = await deleteApiKey();\n    if (result) {\n      // 清空表单内容\n      form.setFieldsValue({\n        model: 'deepseek',\n        apiKey: '',\n      });\n      message.success('API Key 已删除');\n    } else {\n      message.error('删除API Key失败，请稍后重试');\n    }\n  };\n\n  return (\n    <PageContainer>\n      <Space orientation=\"vertical\" size=\"large\">\n        <ProCard>\n          <ProForm\n            layout=\"vertical\"\n            initialValues={{\n              model: model || 'deepseek',\n              apiKey: apiKey,\n            }}\n            form={form}\n            onFinish={handleFormSubmit}\n            onReset={handleFormReset}\n            submitter={{\n              searchConfig: {\n                submitText: '保存 API Key',\n                resetText: '删除 API Key',\n              },\n            }}\n            loading={isLoading}\n          >\n            <ProForm.Item\n              name=\"model\"\n              label=\"首选 AI 模型\"\n              rules={[{ required: true, message: '请选择首选 AI 模型' }]}\n            >\n              <Radio.Group\n                value={model}\n                options={[\n                  {\n                    value: 'deepseek',\n                    label: 'DeepSeek v3.2（需充值，10元起步，支持国货💪）',\n                  },\n                  {\n                    value: 'gemini',\n                    label: 'Google Gemini 3（推荐，可免费白嫖）',\n                  },\n                  { value: 'mimo', label: '小米MiMo V2 Flash（限时免费白嫖，但需要在本地运行，线上无法使用）' },\n                ]}\n                onChange={handleModelChange}\n              />\n            </ProForm.Item>\n\n            <ProFormText.Password\n              name=\"apiKey\"\n              label=\"API Key\"\n              placeholder=\"请输入所选 AI 模型的 API Key\"\n              fieldProps={{\n                size: 'large',\n              }}\n              rules={[\n                {\n                  required: true,\n                  message: '请输入 API Key',\n                },\n                {\n                  validator: (_rule, value) => {\n                    if (!value || validateApiKey(value)) {\n                      return Promise.resolve();\n                    }\n                    return Promise.reject(\n                      new Error('API Key格式不正确，请输入有效的 API Key'),\n                    );\n                  },\n                },\n              ]}\n            />\n\n            <Alert\n              title=\"温馨提示\"\n              description={\n                <Paragraph>\n                  <ul>\n                    <li>您的 API Key 仅保存在本地设备</li>\n                    <li>不会上传至任何第三方服务器</li>\n                    <li>仅通过 HTTPS 直连 AI 模型官方 API</li>\n                    <li>您可随时删除保存的 API Key</li>\n                  </ul>\n                </Paragraph>\n              }\n              type=\"success\"\n              style={{ marginBottom: 24 }}\n            />\n          </ProForm>\n        </ProCard>\n\n        <ProCard split=\"vertical\">\n          <ProCard colSpan={12}>\n            <Title level={4}>\n              DeepSeek API Key 一分钟申请 + 充值指南（新手版）\n            </Title>\n            <Paragraph>\n              <ol>\n                <li>\n                  打开官网：\n                  <Link href=\"https://platform.deepseek.com/\" target=\"_blank\">\n                    https://platform.deepseek.com/\n                  </Link>\n                </li>\n                <li>\n                  点击右上角 <Text code>登录 / 注册</Text>\n                  （手机号、邮箱、微信都可以）\n                </li>\n                <li>根据提示完成注册（手机号、邮箱、微信都可以）</li>\n                <li>\n                  登录后，在左侧找到 <Text code>API 密钥 / API Keys</Text>\n                </li>\n                <li>\n                  点击 <Text code>创建 API Key</Text>，输入名称并确认\n                </li>\n                <li>复制生成的 API Key（记得先保存好，之后看不到完整内容）</li>\n                <li>在 DeepSeek 平台完成充值：10 元起充，支持微信、支付宝</li>\n                <li>回到本应用 → 打开 设置 / AI 设置 → 粘贴 API Key → 保存</li>\n                <li>完成！现在就可以正常使用各项 AI 生成功能了</li>\n              </ol>\n              <Title level={4}>💡 常见问题</Title>\n              <ul>\n                <li>需要付费吗？ 需要。充值 10 元就能用好久</li>\n              </ul>\n            </Paragraph>\n          </ProCard>\n          <ProCard colSpan={12}>\n            <Title level={4}>Gemini API Key 一分钟申请指南（新手版）</Title>\n            <Paragraph>\n              <ol>\n                <li>\n                  打开官网：\n                  <Link href=\"https://aistudio.google.com/\" target=\"_blank\">\n                    https://aistudio.google.com/\n                  </Link>\n                  （注：需要科学上网环境）\n                </li>\n                <li>\n                  登录账号 点击页面上的 <Text code>Sign in</Text>，使用 Google\n                  账号（Gmail）登录。\n                </li>\n                <li>\n                  获取密钥 登录后，点击左上角的 <Text code>Get API key</Text>{' '}\n                  按钮\n                </li>\n                <li>\n                  创建密钥 点击 <Text code>Create API key</Text>{' '}\n                  按钮，如果弹窗询问，选择{' '}\n                  <Text code>Create API key in new project</Text>\n                  （在新项目中创建）\n                </li>\n                <li>\n                  复制并保存 系统会生成一串 AIza 开头的字符，点击 Copy 复制\n                </li>\n                <li>回到本应用 → 打开 设置 / AI 设置 → 粘贴 API Key → 保存</li>\n                <li>完成！现在就可以正常使用各项 AI 生成功能了</li>\n              </ol>\n              <Title level={4}>💡 常见问题</Title>\n              <ul>\n                <li>\n                  需要付费吗？ 不需要。Gemini API\n                  提供免费额度，对于日常使用完全足够，无需绑定信用卡\n                </li>\n              </ul>\n            </Paragraph>\n          </ProCard>\n        </ProCard>\n\n        <ProCard split=\"vertical\">\n          <ProCard colSpan={12}>\n            <Title level={4}>小米MiMo API Key 申请指南（新手版）</Title>\n            <Paragraph>\n              <ol>\n                <li>\n                  打开官网：\n                  <Link href=\"https://platform.xiaomimimo.com/\" target=\"_blank\">\n                    https://platform.xiaomimimo.com/\n                  </Link>\n                </li>\n                <li>\n                  在页面中找到 <Text code>申请 API Key</Text> 按钮，点击\n                </li>\n                <li>\n                  按页面提示，登录 / 注册小米账号 <Text code>登录 / 注册</Text>\n                </li>\n                <li>\n                  创建密钥 点击 <Text code>新建 API Key</Text>{' '}\n                  按钮，输入名称并确认\n                </li>\n                <li>复制并保存 系统会生成一串 sk-开头的字符，点击复制按钮</li>\n                <li>回到本应用 → 打开 设置 / AI 设置 → 粘贴 API Key → 保存</li>\n                <li>完成！现在就可以正常使用各项 AI 生成功能了</li>\n              </ol>\n              <Title level={4}>💡 常见问题</Title>\n              <ul>\n                <li>无法使用？ 请确保在本地运行项目，线上环境无法使用</li>\n                <li>需要付费吗？ 新模型，面向全球公测，限时免费！</li>\n                <li>访问限制？ 国内可直接访问，无需科学上网</li>\n                <li>\n                  模型水平如何？ 新模型，up主只开发了功能，并没有深入进行测试\n                </li>\n              </ul>\n            </Paragraph>\n          </ProCard>\n        </ProCard>\n      </Space>\n    </PageContainer>\n  );\n};\n\nexport default AISettingPage;\n","import { useCallback, useMemo, useState } from 'react';\nimport { db } from '@/services/db';\nimport type { PromptRecord } from '@/shared/types/types';\n\nexport interface PromptRecordFilters {\n  keyword?: string;\n  dateRange?: [string, string];\n  songLanguages?: string | string[];\n  targetSinger?: string;\n  styleDescription?: string;\n  songName?: string;\n}\n\nexport const usePromptRecords = (currentUserId: number) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [records, setRecords] = useState<PromptRecord[]>([]);\n\n  // 获取所有记录\n  const getAllRecords = useCallback(async () => {\n    return await db.getUserPromptRecords(currentUserId);\n  }, [currentUserId]);\n\n  // 日期范围筛选\n  const filterByDateRange = useCallback(\n    (records: PromptRecord[], dateRange?: [string, string]) => {\n      if (\n        !dateRange ||\n        !Array.isArray(dateRange) ||\n        !dateRange[0] ||\n        !dateRange[1]\n      ) {\n        return records;\n      }\n      const startDate = new Date(dateRange[0]);\n      const endDate = new Date(dateRange[1]);\n      endDate.setHours(23, 59, 59, 999);\n      return records.filter((record) => {\n        const recordDate = new Date(record.created_at || new Date(0));\n        return recordDate >= startDate && recordDate <= endDate;\n      });\n    },\n    [],\n  );\n\n  // 歌曲语言筛选\n  const filterBySongLanguages = useCallback(\n    (records: PromptRecord[], songLanguages?: string | string[]) => {\n      if (!songLanguages) {\n        return records;\n      }\n      const languages = Array.isArray(songLanguages)\n        ? songLanguages\n        : [songLanguages];\n      return records.filter((record) =>\n        languages.includes(record.user_input.song_language),\n      );\n    },\n    [],\n  );\n\n  // 目标歌手筛选\n  const filterByTargetSinger = useCallback(\n    (records: PromptRecord[], targetSinger?: string) => {\n      if (!targetSinger || !targetSinger.trim()) {\n        return records;\n      }\n      const lowerCaseTargetSinger = targetSinger.toLowerCase();\n      return records.filter((record) =>\n        record.user_input?.target_singer\n          ?.toLowerCase()\n          .includes(lowerCaseTargetSinger),\n      );\n    },\n    [],\n  );\n\n  // 风格描述筛选\n  const filterByStyleDescription = useCallback(\n    (records: PromptRecord[], styleDescription?: string) => {\n      if (!styleDescription || !styleDescription.trim()) {\n        return records;\n      }\n      const lowerCaseStyleDescription = styleDescription.toLowerCase();\n      return records.filter((record) =>\n        record.user_input?.style_description\n          ?.toLowerCase()\n          .includes(lowerCaseStyleDescription),\n      );\n    },\n    [],\n  );\n\n  // 歌曲名称筛选\n  const filterBySongName = useCallback(\n    (records: PromptRecord[], songName?: string) => {\n      if (!songName || !songName.trim()) {\n        return records;\n      }\n      const lowerCaseSongName = songName.toLowerCase();\n      return records.filter((record) =>\n        record.user_input?.song_name?.toLowerCase().includes(lowerCaseSongName),\n      );\n    },\n    [],\n  );\n\n  // 关键词筛选\n  const filterByKeyword = useCallback(\n    (records: PromptRecord[], keyword?: string) => {\n      if (!keyword || !keyword.trim()) {\n        return records;\n      }\n      const lowerCaseKeyword = keyword.toLowerCase();\n      return records.filter((record) => {\n        // 在歌曲名称、目标歌手、风格描述中搜索关键词\n        return (\n          record.user_input?.song_name\n            ?.toLowerCase()\n            .includes(lowerCaseKeyword) ||\n          record.user_input?.target_singer\n            ?.toLowerCase()\n            .includes(lowerCaseKeyword) ||\n          record.user_input?.style_description\n            ?.toLowerCase()\n            .includes(lowerCaseKeyword) ||\n          record.ai_result?.styles?.toLowerCase().includes(lowerCaseKeyword) ||\n          record.ai_result?.lyrics?.toLowerCase().includes(lowerCaseKeyword)\n        );\n      });\n    },\n    [],\n  );\n\n  // 获取记录列表（整合筛选逻辑）\n  const fetchRecords = useCallback(\n    async (filters: PromptRecordFilters = {}) => {\n      setLoading(true);\n      try {\n        let fetchedRecords = await getAllRecords();\n\n        // 应用所有筛选条件\n        fetchedRecords = filterByKeyword(fetchedRecords, filters.keyword);\n        fetchedRecords = filterByDateRange(fetchedRecords, filters.dateRange);\n        fetchedRecords = filterBySongLanguages(\n          fetchedRecords,\n          filters.songLanguages,\n        );\n        fetchedRecords = filterByTargetSinger(\n          fetchedRecords,\n          filters.targetSinger,\n        );\n        fetchedRecords = filterByStyleDescription(\n          fetchedRecords,\n          filters.styleDescription,\n        );\n        fetchedRecords = filterBySongName(fetchedRecords, filters.songName);\n\n        setRecords(fetchedRecords);\n        return fetchedRecords;\n      } catch (error) {\n        console.error('获取记录失败：', error);\n        setRecords([]);\n        return [];\n      } finally {\n        setLoading(false);\n      }\n    },\n    [\n      getAllRecords,\n      filterByKeyword,\n      filterByDateRange,\n      filterBySongLanguages,\n      filterByTargetSinger,\n      filterByStyleDescription,\n      filterBySongName,\n    ],\n  );\n\n  // 删除单条记录\n  const deleteRecord = useCallback(\n    async (recordId: number) => {\n      try {\n        await db.deletePromptRecord(recordId);\n        // 刷新数据\n        await fetchRecords();\n        return { success: true };\n      } catch (error) {\n        console.error('删除记录失败：', error);\n        return { success: false, error };\n      }\n    },\n    [fetchRecords],\n  );\n\n  // 清空所有记录\n  const clearAllRecords = useCallback(async () => {\n    try {\n      const userRecords = await db.getUserPromptRecords(currentUserId);\n      await Promise.all(\n        userRecords.map((record) => db.deletePromptRecord(record.id!)),\n      );\n      setRecords([]);\n      return { success: true };\n    } catch (error) {\n      console.error('清空记录失败：', error);\n      return { success: false, error };\n    }\n  }, [currentUserId]);\n\n  return {\n    records,\n    loading,\n    fetchRecords,\n    deleteRecord,\n    clearAllRecords,\n  };\n};\n"],"names":[],"mappings":"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"}