{"version":3,"sources":["src_pages_lyrics-craft_index_tsx-async.9310354776429151841.hot-update.js","src/pages/lyrics-craft/index.tsx"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'src/pages/lyrics-craft/index.tsx',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='3993340639040485204';\nruntime.updateEnsure2Map({\"src/.umi/plugin-layout/Layout.tsx\":[\"vendors\",\"src/.umi/plugin-layout/Layout.tsx\"],\"src/.umi/plugin-openapi/openapi.tsx\":[\"vendors\",\"src/.umi/plugin-openapi/openapi.tsx\"],\"src/pages/404.tsx\":[\"p__404\"],\"src/pages/about/index.tsx\":[\"vendors\",\"p__about__index\"],\"src/pages/ai-setting/index.tsx\":[\"vendors\",\"common\",\"src/pages/ai-setting/index.tsx\"],\"src/pages/changelog/index.tsx\":[\"vendors\",\"p__changelog__index\"],\"src/pages/lyrics-craft/index.tsx\":[\"vendors\",\"common\",\"src/pages/lyrics-craft/index.tsx\"],\"src/pages/lyrics-records/index.tsx\":[\"vendors\",\"common\",\"src/pages/lyrics-records/index.tsx\"],\"src/pages/record/index.tsx\":[\"vendors\",\"common\",\"p__record__index\"],\"src/pages/suno-cover/index.tsx\":[\"vendors\",\"common\",\"src/pages/suno-cover/index.tsx\"]});;\n  },\n);\n","/**\n * 大师写歌词页面\n * 负责处理歌词创作相关功能，使用ProForm实现15个表单项\n */\n\nimport {\n  PageContainer,\n  ProCard,\n  ProForm,\n  ProFormRadio,\n  ProFormSelect,\n  ProFormSlider,\n  ProFormSwitch,\n  ProFormText,\n  ProFormTextArea,\n} from \"@ant-design/pro-components\";\nimport { XMarkdown } from \"@ant-design/x-markdown\";\nimport { useModel, useNavigate } from \"@umijs/max\";\nimport {\n  Button,\n  Col,\n  Empty,\n  message,\n  Row,\n  Spin,\n  Space,\n  Typography,\n} from \"antd\";\nconst { Text } = Typography;\nimport React, { useState } from \"react\";\nimport \"@ant-design/x-markdown/themes/light.css\";\nimport \"@ant-design/x-markdown/themes/dark.css\";\n\nimport {\n  CLOSENESS_LEVEL_OPTIONS,\n  CREATION_MODE_OPTIONS,\n  OUTPUT_COUNT_OPTIONS,\n  PERSONA_OPTIONS,\n  RHYME_TYPE_OPTIONS,\n  SONG_LANGUAGE_OPTIONS,\n  SONG_STRUCTURE_OPTIONS,\n  SONG_STYLE_OPTIONS,\n  WORDING_STYLE_OPTIONS,\n} from \"@/config/lyricsEnums\";\nimport { MASTER_STYLE_CARDS } from \"@/config/masterStyleConfig\";\nimport { useApiKey } from \"@/hooks/useApiKey\";\nimport { useLyricsRecords } from \"@/hooks/useLyricsRecords\";\nimport { AIProviderFactory } from \"@/services/ai/providers\";\nimport type { LyricsFormData } from \"@/shared/types/types\";\nimport { BusinessType } from \"@/config/aiTemperatureConfig\";\nimport { copyToClipboard } from \"@/shared/utils\";\nimport { ApiKeyAlert } from \"@/components\";\nimport { LyricsCraftPromptBuilder } from \"./utils/promptBuilder\";\nimport { LyricsCraftResponseParser } from \"./utils/responseParser\";\n\nconst LyricsCraftPage: React.FC = () => {\n  const navigate = useNavigate();\n  const { apiKey, model, checkApiKey, shouldShowAlert, navigateToSettings } =\n    useApiKey();\n  const { createRecord } = useLyricsRecords();\n  const [loading, setLoading] = useState<boolean>(false);\n  const [generatedLyrics, setGeneratedLyrics] = useState<string>(\"\");\n  const [messageApi, contextHolder] = message.useMessage();\n  const { initialState } = useModel(\"@@initialState\");\n  // 根据主题设置确定XMarkdown的主题类\n  const isDarkTheme = initialState?.settings?.navTheme === \"realDark\";\n  const markdownThemeClass = isDarkTheme\n    ? \"x-markdown-dark\"\n    : \"x-markdown-light\";\n\n  const defaultFormValues: Partial<LyricsFormData> = {\n    song_language: \"mandarin\",\n    song_style: \"lyrical_pop\",\n    song_structure: \"standard_pop\",\n    creation_mode: \"new\",\n    persona: \"unlimited\",\n    wording_style: [],\n    allow_english: false,\n    closeness: 3,\n    rhyme_type: \"mix\",\n    rhyme_strict: true,\n    output_count: 1,\n  };\n\n  const handleSubmit = async (values: LyricsFormData) => {\n    if (!checkApiKey()) {\n      return;\n    }\n\n    if (!values.song_name || !values.song_name.trim()) {\n      messageApi.error(\"歌曲名称不能为空\");\n      return;\n    }\n\n    if (!values.raw_material || !values.raw_material.trim()) {\n      messageApi.error(\"原始素材不能为空\");\n      return;\n    }\n\n    if (values.output_count < 1 || values.output_count > 5) {\n      messageApi.error(\"生成数量必须在1-5之间\");\n      return;\n    }\n\n    if (values.closeness < 0 || values.closeness > 100) {\n      messageApi.error(\"贴近度必须在0-100之间\");\n      return;\n    }\n\n    setLoading(true);\n    setGeneratedLyrics(\"\");\n\n    try {\n      const provider = AIProviderFactory.createProvider(\n        model as \"deepseek\" | \"gemini\" | \"mimo\"\n      );\n\n      const systemPrompt = LyricsCraftPromptBuilder.buildSystemPrompt(values);\n      const userPrompt = LyricsCraftPromptBuilder.buildUserPrompt(values);\n\n      const response = await provider.generate({\n        api_key: apiKey,\n        system_prompt: systemPrompt,\n        user_prompt: userPrompt,\n        business_type: BusinessType.LYRICS,\n      });\n\n      if (!response.success) {\n        throw new Error(response.error || \"AI生成失败\");\n      }\n\n      const parsedResponse = LyricsCraftResponseParser.parseResponse(\n        response.content\n      );\n\n      if (parsedResponse.success && parsedResponse.lyrics) {\n        setGeneratedLyrics(parsedResponse.lyrics);\n\n        const result = await createRecord({\n          form_data: values,\n          ai_result: {\n            lyrics: parsedResponse.lyrics,\n            model: model,\n            closeness: values.closeness,\n          },\n          created_at: new Date(),\n        });\n\n        if (result.success && result.data?.id) {\n          messageApi.success(\"歌词生成成功！\");\n        } else {\n          messageApi.error(\"歌词生成成功，但保存失败\");\n        }\n      } else {\n        messageApi.error(parsedResponse.error || \"歌词生成失败\");\n      }\n    } catch (error) {\n      console.error(\"歌词生成失败：\", error);\n      messageApi.error(\"歌词生成失败，请稍后重试\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <PageContainer>\n        {/* 只有在用户没有设置AI API Key时才显示Alert提示 */}\n        <ApiKeyAlert\n          visible={shouldShowAlert}\n          onNavigateToSettings={navigateToSettings}\n        />\n        <Spin spinning={loading} fullscreen size=\"large\" />\n        <Row gutter={[24, 0]}>\n          <Col xxl={16} xl={12} lg={12} md={12} sm={12} xs={12}>\n            <ProCard title=\"创作配置\" style={{ height: \"100%\" }}>\n              <ProForm<LyricsFormData>\n                layout=\"vertical\"\n                grid\n                onFinish={handleSubmit}\n                submitter={{\n                  render: () => (\n                    <Button\n                      type=\"primary\"\n                      htmlType=\"submit\"\n                      loading={loading}\n                      size=\"large\"\n                      block\n                    >\n                      生成歌词\n                    </Button>\n                  ),\n                }}\n                initialValues={defaultFormValues}\n              >\n                <ProFormText\n                  name=\"song_name\"\n                  label=\"歌曲名称\"\n                  placeholder=\"请输入歌曲名称\"\n                  rules={[\n                    { required: true, message: \"请输入歌曲名称\" },\n                    { max: 50, message: \"歌曲名称最多 50 个字\" },\n                  ]}\n                  colProps={{ span: 24 }}\n                />\n                <ProFormSelect\n                  name=\"song_language\"\n                  label=\"歌曲语言\"\n                  placeholder=\"请选择歌曲语言\"\n                  options={SONG_LANGUAGE_OPTIONS.map((option) => ({\n                    label: option.description ? (\n                      <Space align=\"center\">\n                        <Text strong>{option.label}</Text>\n                        <Text italic type=\"secondary\">\n                          {option.description}\n                        </Text>\n                      </Space>\n                    ) : (\n                      <Text strong>{option.label}</Text>\n                    ),\n                    value: option.value,\n                  }))}\n                  rules={[{ required: true, message: \"请选择歌曲语言\" }]}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                  fieldProps={{ popupMatchSelectWidth: false }}\n                />\n                <ProFormSwitch\n                  name=\"allow_english\"\n                  label=\"允许英语单词\"\n                  tooltip=\"想用一杯Latte把你灌醉？关闭时，歌词中禁止出现散装英语\"\n                  colProps={{ xxl: 6, xl: 12, lg: 12, md: 12, sm: 12, xs: 12 }}\n                />\n                <ProFormRadio.Group\n                  name=\"output_count\"\n                  label=\"输出方案数量\"\n                  options={OUTPUT_COUNT_OPTIONS.map((option) => ({\n                    label: option.label,\n                    value: option.value,\n                  }))}\n                  rules={[{ required: true, message: \"请选择输出方案数量\" }]}\n                  colProps={{ xxl: 6, xl: 12, lg: 12, md: 12, sm: 12, xs: 12 }}\n                />\n                <ProFormSelect\n                  name=\"master_id\"\n                  label=\"大师风格\"\n                  placeholder=\"请选择大师风格\"\n                  options={MASTER_STYLE_CARDS.map((master) => ({\n                    label: master.description ? (\n                      <Space align=\"center\">\n                        <Text strong>{master.name}</Text>\n                        <Text type=\"secondary\">{master.description}</Text>\n                      </Space>\n                    ) : (\n                      <Text strong>{master.name}</Text>\n                    ),\n                    value: master.id,\n                  }))}\n                  rules={[{ required: true, message: \"请选择大师风格\" }]}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                  fieldProps={{ popupMatchSelectWidth: false }}\n                />\n                <ProFormSelect\n                  name=\"wording_style\"\n                  label=\"措辞要求（可选，最多可选 2 项）\"\n                  options={WORDING_STYLE_OPTIONS.map((option) => ({\n                    label: option.description ? (\n                      <Space align=\"center\">\n                        <Text strong>{option.label}</Text>\n                        <Text type=\"secondary\">{option.description}</Text>\n                      </Space>\n                    ) : (\n                      <Text strong>{option.label}</Text>\n                    ),\n                    value: option.value,\n                  }))}\n                  mode=\"multiple\"\n                  rules={[\n                    {\n                      type: \"array\",\n                      max: 2,\n                      message: \"措辞要求最多选择 2 项\",\n                    },\n                  ]}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                  fieldProps={{\n                    popupMatchSelectWidth: false,\n                    maxCount: 2,\n                    maxTagCount: \"responsive\",\n                  }}\n                />\n                <ProFormSlider\n                  name=\"closeness\"\n                  label=\"贴近度\"\n                  rules={[{ required: true, message: \"请选择贴近度\" }]}\n                  colProps={{ span: 24 }}\n                  min={1}\n                  max={5}\n                  marks={CLOSENESS_LEVEL_OPTIONS.reduce((acc, opt) => {\n                    acc[opt.value as number] = opt.label;\n                    return acc;\n                  }, {} as Record<number, React.ReactNode>)}\n                  step={1}\n                  fieldProps={{\n                    tooltip: {\n                      formatter: (value: number | undefined) => {\n                        if (value === undefined) return \"\";\n                        const option = CLOSENESS_LEVEL_OPTIONS.find(\n                          (opt) => opt.value === value\n                        );\n                        if (!option) return String(value);\n                        return option.tooltip_example\n                          ? `${option.description}。${option.tooltip_example}`\n                          : option.description;\n                      },\n                    },\n                    style: { margin: \"0 32px\" },\n                  }}\n                />\n                <ProFormSelect\n                  name=\"creation_mode\"\n                  label=\"创作模式\"\n                  placeholder=\"请选择创作模式\"\n                  options={CREATION_MODE_OPTIONS.map((option) => ({\n                    label: option.description ? (\n                      <Space align=\"center\">\n                        <Text strong>{option.label}</Text>\n                        <Text type=\"secondary\">{option.description}</Text>\n                      </Space>\n                    ) : (\n                      <Text strong>{option.label}</Text>\n                    ),\n                    value: option.value,\n                  }))}\n                  rules={[{ required: true, message: \"请选择创作模式\" }]}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                  fieldProps={{ popupMatchSelectWidth: false }}\n                />\n                <ProFormSelect\n                  name=\"song_style\"\n                  label=\"歌曲风格\"\n                  placeholder=\"请选择歌曲风格\"\n                  options={SONG_STYLE_OPTIONS.map((option) => ({\n                    label: option.description ? (\n                      <Space align=\"center\">\n                        <Text strong>{option.label}</Text>\n                        <Text type=\"secondary\">{option.description}</Text>\n                      </Space>\n                    ) : (\n                      <Text strong>{option.label}</Text>\n                    ),\n                    value: option.value,\n                  }))}\n                  rules={[{ required: true, message: \"请选择歌曲风格\" }]}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                  fieldProps={{ popupMatchSelectWidth: false }}\n                />\n\n                <ProFormSelect\n                  name=\"song_structure\"\n                  label=\"曲式结构\"\n                  placeholder=\"请选择曲式结构\"\n                  options={SONG_STRUCTURE_OPTIONS.map((option) => ({\n                    label: option.description ? (\n                      <Space align=\"center\">\n                        <Text strong>{option.label}</Text>\n                        <Text type=\"secondary\">{option.description}</Text>\n                      </Space>\n                    ) : (\n                      <Text strong>{option.label}</Text>\n                    ),\n                    value: option.value,\n                  }))}\n                  rules={[{ required: true, message: \"请选择曲式结构\" }]}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                  fieldProps={{ popupMatchSelectWidth: false }}\n                />\n                <ProFormSelect\n                  name=\"persona\"\n                  label=\"叙事人设\"\n                  placeholder=\"请选择叙事人设\"\n                  options={PERSONA_OPTIONS.map((option) => ({\n                    label: option.description ? (\n                      <Space align=\"center\">\n                        <Text strong>{option.label}</Text>\n                        <Text type=\"secondary\">{option.description}</Text>\n                      </Space>\n                    ) : (\n                      <Text strong>{option.label}</Text>\n                    ),\n                    value: option.value,\n                  }))}\n                  rules={[{ required: true, message: \"请选择叙事人设\" }]}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                  fieldProps={{ popupMatchSelectWidth: false }}\n                />\n                <ProFormTextArea\n                  name=\"raw_material\"\n                  label=\"原始素材\"\n                  placeholder=\"请输入原始素材（主题、大意、歌词片段等），每一行视为一个参考素材\"\n                  rules={[\n                    { required: true, message: \"请输入原始素材\" },\n                    { max: 1000, message: \"原始素材最多1000字\" },\n                  ]}\n                  fieldProps={{\n                    rows: 6,\n                    showCount: true,\n                    maxLength: 1000,\n                  }}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                />\n                <ProFormTextArea\n                  name=\"reference_lyrics\"\n                  label=\"参考歌曲和歌词（可选）\"\n                  placeholder=\"请输入参考歌曲名称和歌词全文，仅作为技法参考，不要求结构对齐\"\n                  rules={[{ max: 1000, message: \"参考歌曲和歌词最多1000字\" }]}\n                  fieldProps={{\n                    rows: 6,\n                    showCount: true,\n                    maxLength: 1000,\n                  }}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                />\n                <ProFormTextArea\n                  name=\"requirements\"\n                  label=\"创作要求（可选）\"\n                  placeholder=\"请输入创作要求（情绪走向、禁止出现的内容等）\"\n                  rules={[{ max: 1000, message: \"创作要求最多1000字\" }]}\n                  fieldProps={{\n                    rows: 4,\n                    showCount: true,\n                    maxLength: 1000,\n                  }}\n                  colProps={{ span: 24 }}\n                />\n                <ProFormSelect\n                  name=\"rhyme_type\"\n                  label=\"押韵类型\"\n                  placeholder=\"请选择押韵类型\"\n                  options={RHYME_TYPE_OPTIONS.map((option) => ({\n                    label: option.description ? (\n                      <Space align=\"center\">\n                        <Text strong>{option.label}</Text>\n                        <Text type=\"secondary\">{option.description}</Text>\n                      </Space>\n                    ) : (\n                      <Text strong>{option.label}</Text>\n                    ),\n                    value: option.value,\n                  }))}\n                  rules={[{ required: true, message: \"请选择押韵类型\" }]}\n                  colProps={{ xxl: 12, xl: 24, lg: 24, md: 24, sm: 24, xs: 24 }}\n                  fieldProps={{ popupMatchSelectWidth: false }}\n                />\n                <ProFormText\n                  name=\"rhyme_tone\"\n                  label=\"韵脚（可选）\"\n                  placeholder=\"请输入韵脚，留空则系统推荐\"\n                  colProps={{ xxl: 6, xl: 12, lg: 12, md: 12, sm: 12, xs: 12 }}\n                />\n                <ProFormSwitch\n                  name=\"rhyme_strict\"\n                  label=\"严格押韵\"\n                  tooltip=\"开启时，必须严格执行韵脚，不得出现近音字代替\"\n                  colProps={{ xxl: 6, xl: 12, lg: 12, md: 12, sm: 12, xs: 12 }}\n                />\n              </ProForm>\n            </ProCard>\n          </Col>\n\n          <Col xxl={8} xl={12} lg={12} md={12} sm={12} xs={12}>\n            <ProCard\n              title=\"生成的歌词\"\n              extra={\n                generatedLyrics && (\n                  <Button\n                    size=\"small\"\n                    onClick={() => copyToClipboard(generatedLyrics, \"歌词\")}\n                  >\n                    复制歌词\n                  </Button>\n                )\n              }\n              style={{ height: \"100%\" }}\n            >\n              {!generatedLyrics ? (\n                <Empty\n                  description=\"请填写左侧表单并点击生成按钮\"\n                  style={{ marginTop: 80 }}\n                />\n              ) : (\n                <XMarkdown\n                  className={markdownThemeClass}\n                  config={{ breaks: true }}\n                >\n                  {generatedLyrics}\n                </XMarkdown>\n              )}\n            </ProCard>\n          </Col>\n        </Row>\n      </PageContainer>\n    </>\n  );\n};\n\nexport default LyricsCraftPage;\n"],"names":[],"mappings":"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"}