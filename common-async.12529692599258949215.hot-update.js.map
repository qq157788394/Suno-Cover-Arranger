{"version":3,"sources":["common-async.12529692599258949215.hot-update.js","src/shared/utils/format.ts"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'common',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='6933013715772715920';\nruntime.updateEnsure2Map({\"src/.umi/plugin-layout/Layout.tsx\":[\"vendors\",\"src/.umi/plugin-layout/Layout.tsx\"],\"src/.umi/plugin-openapi/openapi.tsx\":[\"vendors\",\"src/.umi/plugin-openapi/openapi.tsx\"],\"src/pages/404.tsx\":[\"p__404\"],\"src/pages/about/index.tsx\":[\"vendors\",\"p__about__index\"],\"src/pages/ai-setting/index.tsx\":[\"vendors\",\"common\",\"src/pages/ai-setting/index.tsx\"],\"src/pages/changelog/index.tsx\":[\"vendors\",\"p__changelog__index\"],\"src/pages/lyrics-craft/index.tsx\":[\"vendors\",\"common\",\"src/pages/lyrics-craft/index.tsx\"],\"src/pages/lyrics-records/index.tsx\":[\"vendors\",\"common\",\"src/pages/lyrics-records/index.tsx\"],\"src/pages/record/index.tsx\":[\"vendors\",\"common\",\"p__record__index\"],\"src/pages/suno-cover/index.tsx\":[\"vendors\",\"common\",\"src/pages/suno-cover/index.tsx\"]});;\n  },\n);\n","/**\n * 通用格式化工具函数\n * 提供各种数据格式化功能，包括日期、语言、参考歌曲等\n */\nimport type { ReferenceSong } from '../types';\n\n/**\n * 语言映射：将内部语言代码转换为对外显示的完整语言名称\n * 用于在提示中确保语言描述的一致性和准确性\n */\nconst languageMap: Record<string, string> = {\n  Mandarin: 'Mandarin Chinese',\n  Cantonese: 'Cantonese',\n  Minnan: 'Minnan',\n  English: 'English',\n  Korean: 'Korean',\n  Japanese: 'Japanese',\n  Other: 'Other',\n};\n\n/**\n * 获取完整的语言名称\n * @param languageCode - 内部语言代码\n * @returns 完整的语言名称\n */\nexport const getFullLanguageName = (languageCode: string): string => {\n  return languageMap[languageCode] || languageCode;\n};\n\n/**\n * 生成参考歌曲块文本\n * 将参考歌曲列表格式化为易读的文本块\n * @param referenceSongs - 参考歌曲列表\n * @param targetArtist - 目标艺术家（当歌曲没有艺术家时使用）\n * @returns 格式化后的参考歌曲文本块\n */\nexport const formatReferenceSongs = (\n  referenceSongs: ReferenceSong[],\n  targetArtist: string,\n): string => {\n  if (referenceSongs.length === 0) {\n    return 'None';\n  }\n\n  return referenceSongs\n    .filter((song) => song.title)\n    .map((song) => `${song.title} by ${song.artist || targetArtist}`)\n    .join('\\n');\n};\n\n/**\n * 格式化日期为可读字符串\n * @param date - 日期对象或日期字符串\n * @param format - 格式字符串（可选）\n * @returns 格式化后的日期字符串\n */\nexport const formatDate = (\n  date: Date | string,\n  format: string = 'YYYY-MM-DD HH:mm:ss',\n): string => {\n  const dateObj = typeof date === 'string' ? new Date(date) : date;\n\n  const year = dateObj.getFullYear();\n  const month = String(dateObj.getMonth() + 1).padStart(2, '0');\n  const day = String(dateObj.getDate()).padStart(2, '0');\n  const hours = String(dateObj.getHours()).padStart(2, '0');\n  const minutes = String(dateObj.getMinutes()).padStart(2, '0');\n  const seconds = String(dateObj.getSeconds()).padStart(2, '0');\n\n  return format\n    .replace('YYYY', String(year))\n    .replace('MM', month)\n    .replace('DD', day)\n    .replace('HH', hours)\n    .replace('mm', minutes)\n    .replace('ss', seconds);\n};\n\n/**\n * 格式化数字为千分位格式\n * @param number - 要格式化的数字\n * @returns 千分位格式的数字字符串\n */\nexport const formatNumber = (number: number): string => {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};\n\n/**\n * 截取文本并添加省略号\n * @param text - 要截取的文本\n * @param maxLength - 最大长度\n * @returns 截取后的文本（包含省略号）\n */\nexport const truncateText = (text: string, maxLength: number): string => {\n  if (text.length <= maxLength) {\n    return text;\n  }\n\n  return text.substring(0, maxLength) + '...';\n};\n"],"names":[],"mappings":"AAAA,WAAW,mBAAmB,CAC5B,UACA;IACE,SAAS;;;;;;;;;;;;;gBCqDA,UAAU;2BAAV;;gBA2BA,YAAY;2BAAZ;;gBA/CA,oBAAoB;2BAApB;;gBAXA,mBAAmB;2BAAnB;;gBAoEA,YAAY;2BAAZ;;;;;;;;;;;;;YAvFb;;;CAGC,GACD,MAAM,cAAsC;gBAC1C,UAAU;gBACV,WAAW;gBACX,QAAQ;gBACR,SAAS;gBACT,QAAQ;gBACR,UAAU;gBACV,OAAO;YACT;YAOO,MAAM,sBAAsB,CAAC;gBAClC,OAAO,WAAW,CAAC,aAAa,IAAI;YACtC;YASO,MAAM,uBAAuB,CAClC,gBACA;gBAEA,IAAI,eAAe,MAAM,KAAK,GAC5B,OAAO;gBAGT,OAAO,eACJ,MAAM,CAAC,CAAC,OAAS,KAAK,KAAK,EAC3B,GAAG,CAAC,CAAC,OAAS,CAAC,EAAE,KAAK,KAAK,CAAC,IAAI,EAAE,KAAK,MAAM,IAAI,aAAa,CAAC,EAC/D,IAAI,CAAC;YACV;YAQO,MAAM,aAAa,CACxB,MACA,SAAiB,qBAAqB;gBAEtC,MAAM,UAAU,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;gBAE5D,MAAM,OAAO,QAAQ,WAAW;gBAChC,MAAM,QAAQ,OAAO,QAAQ,QAAQ,KAAK,GAAG,QAAQ,CAAC,GAAG;gBACzD,MAAM,MAAM,OAAO,QAAQ,OAAO,IAAI,QAAQ,CAAC,GAAG;gBAClD,MAAM,QAAQ,OAAO,QAAQ,QAAQ,IAAI,QAAQ,CAAC,GAAG;gBACrD,MAAM,UAAU,OAAO,QAAQ,UAAU,IAAI,QAAQ,CAAC,GAAG;gBACzD,MAAM,UAAU,OAAO,QAAQ,UAAU,IAAI,QAAQ,CAAC,GAAG;gBAEzD,OAAO,OACJ,OAAO,CAAC,QAAQ,OAAO,OACvB,OAAO,CAAC,MAAM,OACd,OAAO,CAAC,MAAM,KACd,OAAO,CAAC,MAAM,OACd,OAAO,CAAC,MAAM,SACd,OAAO,CAAC,MAAM;YACnB;YAOO,MAAM,eAAe,CAAC;gBAC3B,OAAO,OAAO,QAAQ,GAAG,OAAO,CAAC,yBAAyB;YAC5D;YAQO,MAAM,eAAe,CAAC,MAAc;gBACzC,IAAI,KAAK,MAAM,IAAI,WACjB,OAAO;gBAGT,OAAO,KAAK,SAAS,CAAC,GAAG,aAAa;YACxC;;;;;;;;;;;;;;;;;;;;;;;IDhGc;AACZ,GACA,SAAU,OAAO;IACf,QAAQ,EAAE,GAAC;IACf,QAAQ,gBAAgB,CAAC;QAAC,qCAAoC;YAAC;YAAU;SAAoC;QAAC,uCAAsC;YAAC;YAAU;SAAsC;QAAC,qBAAoB;YAAC;SAAS;QAAC,6BAA4B;YAAC;YAAU;SAAkB;QAAC,kCAAiC;YAAC;YAAU;YAAS;SAAiC;QAAC,iCAAgC;YAAC;YAAU;SAAsB;QAAC,oCAAmC;YAAC;YAAU;YAAS;SAAmC;QAAC,sCAAqC;YAAC;YAAU;YAAS;SAAqC;QAAC,8BAA6B;YAAC;YAAU;YAAS;SAAmB;QAAC,kCAAiC;YAAC;YAAU;YAAS;SAAiC;IAAA;;AAC3wB"}