## äº§å“åç§°

**å¤§å¸ˆå†™æ­Œè¯ï¼ˆLyricCraftï¼‰**
éš¶å±äºï¼š**Suno ç¿»å”±ç¼–æ›²å¤§å¸ˆ**

---

## 1. äº§å“èƒŒæ™¯ä¸ç›®æ ‡

### 1.1 èƒŒæ™¯

åœ¨ AI éŸ³ä¹åˆ›ä½œæµç¨‹ä¸­ï¼Œé€æ¸å½¢æˆäº†ä¸€æ¡è¢«å¤§é‡åˆ›ä½œè€…éªŒè¯è¿‡çš„â€œçœŸå®è·¯å¾„â€ï¼š

1. åˆ›ä½œè€…å…ˆæœ‰ä¸€ä¸ªä¸»é¢˜ / æƒ…ç»ª / å°‘é‡æ­Œè¯ç‰‡æ®µ

2. å€ŸåŠ© AI ä¸æ–­**æ‰©å†™ã€é‡å†™ã€å¾®è°ƒæ­Œè¯**ï¼Œåå¤æ‰“ç£¨ï¼ˆé€šå¸¸éœ€è¦æ•°å°æ—¶åˆ° 1 å¤©ï¼‰

3. å½“æ­Œè¯æˆç†Ÿåï¼Œå†äº¤ç»™éŸ³ä¹ç”Ÿæˆå·¥å…·ï¼ˆå¦‚ Sunoï¼‰å®Œæˆä½œæ›²ã€æ¼”å”±

ç°æœ‰é—®é¢˜åœ¨äºï¼š

- é€šç”¨ AI å¯¹è¯å·¥å…·**ä¸ç†è§£æ­Œè¯çš„éŸ³ä¹æ€§è¦æ±‚**ï¼ˆæŠ¼éŸµã€æ›²å¼ã€å¯å”±æ€§ï¼‰

- â€œæ¨¡ä»¿å¤§å¸ˆé£æ ¼â€è¿™ä»¶äº‹ï¼Œç”¨æˆ·çŸ¥é“æœ‰ç”¨ï¼Œä½†ä¸çŸ¥é“**å¦‚ä½•å®‰å…¨ã€å¯æ§åœ°å»æ¨¡ä»¿**

- å‚æ•°å…¨éƒ¨æ··åœ¨è‡ªç„¶è¯­è¨€é‡Œï¼Œ**è¯•é”™æˆæœ¬æé«˜**

- ç”Ÿæˆå†…å®¹ä¸€æ—¦å…³é—­é¡µé¢å³ä¸¢å¤±ï¼Œéš¾ä»¥å¤ç›˜ä¸å¯¹æ¯”

---

### 1.2 äº§å“ç›®æ ‡

æ­Œè¯åˆ›ä½œå™¨çš„ç›®æ ‡æ˜¯ï¼š

- å°†â€œä½œè¯åˆ›ä½œâ€**ç»“æ„åŒ–ã€å‚æ•°åŒ–**

- å°†â€œæ¨¡ä»¿å†™æ³•â€è½¬åŒ–ä¸º**å¯è°ƒèŠ‚çš„åˆ›ä½œç­–ç•¥**

- è¾“å‡º**çœŸæ­£å¯å”±ã€å¯åå¤ä¿®æ”¹**çš„æ­Œè¯

- ä¸ã€Œç¿»å”±ç¼–æ›²å¤§å¸ˆã€å½¢æˆ**æ¸…æ™°è§£è€¦ä½†é¡ºç•…è¡”æ¥**çš„åˆ›ä½œæµç¨‹

---

## 2. ç”¨æˆ·ç”»åƒ

### 2.1 ç›®æ ‡ç”¨æˆ·

- AI åŸåˆ›éŸ³ä¹åˆ›ä½œè€…

- ç¿»å”±åˆ›ä½œè€…

- éŸ³ä¹ç±»è‡ªåª’ä½“åšä¸»

- æœ‰å®¡ç¾ä¸éŸ³ä¹æ„Ÿï¼Œä½†ç¼ºä¹ç³»ç»Ÿä½œè¯è®­ç»ƒçš„ç”¨æˆ·

### 2.2 ç”¨æˆ·ç‰¹å¾

- æ¥å— AIã€å¹¶æ„¿æ„åå¤ä½¿ç”¨

- èƒ½åˆ†è¾¨â€œå¥½æ­Œè¯ / åæ­Œè¯â€

- ä¸è¿½æ±‚ä¸€æ¬¡ç”Ÿæˆå³å®Œç¾ï¼Œè€Œæ˜¯**å¯æ‰“ç£¨æ€§**

---

## 3. äº§å“æ•´ä½“ç»“æ„

### 3.1 ä¸€çº§åŠŸèƒ½æ¨¡å—

```plain text
æ­Œè¯åˆ›ä½œå™¨
â”œâ”€â”€ æ­Œè¯ç”Ÿæˆï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ è¡¨å•é…ç½®
â”‚   â”œâ”€â”€ AI ç”Ÿæˆ
â”‚   â””â”€â”€ æœ¬åœ°ä¿å­˜
â””â”€â”€ è®°å½•æŸ¥è¯¢
    â”œâ”€â”€ å†å²åˆ—è¡¨
    â”œâ”€â”€ è®°å½•è¯¦æƒ…
    â””â”€â”€ åˆ é™¤
```

---

## 4. åŠŸèƒ½ä¸€ï¼šæ­Œè¯ç”Ÿæˆ

### 4.1 ä½¿ç”¨æµç¨‹

1. ç”¨æˆ·å¡«å†™æ­Œè¯ç”Ÿæˆè¡¨å•

2. ç‚¹å‡»ã€ç”Ÿæˆæ­Œè¯ã€‘

3. å‰ç«¯ç»„è£… Prompt â†’ è°ƒç”¨ LLM API

4. LLM è¿”å›å®Œæ•´æ­Œè¯

5. **å°†ä»¥ä¸‹å†…å®¹æ•´ä½“å†™å…¥ IndexedDBï¼š**

   - æ­Œæ›²åç§°

   - ç”¨æˆ·å¡«å†™çš„å…¨éƒ¨è¡¨å•ï¼ˆåºåˆ—åŒ–å­—ç¬¦ä¸²ï¼‰

   - AI ç”Ÿæˆçš„æ­Œè¯æ–‡æœ¬

   - åˆ›å»ºæ—¶é—´

---

### 4.2 æ­Œè¯ç”Ÿæˆè¡¨å•è®¾è®¡

#### 4.2.1 æ­Œæ›²åç§°

- æ§ä»¶ç±»å‹ï¼šInputï¼ˆå•è¡Œï¼‰

- å¿…å¡«ï¼šæ˜¯

- ç”¨é€”ï¼š

  - æœ¬åœ°è®°å½•ç´¢å¼•

  - å†å²åˆ—è¡¨å±•ç¤º

- æ ¡éªŒè§„åˆ™ï¼š

  - ä¸å¯ä¸ºç©º

  - æœ€å¤§é•¿åº¦ 50 å­—

- è¯´æ˜ï¼š
  - ç³»ç»Ÿä¼šå°†æ­Œæ›²åç§°ä½œä¸ºæ ‡é¢˜æ³¨å…¥åˆ° Prompt ä¸­
  - ç¡®ä¿æ­Œè¯å†…å®¹ä¸æ­Œæ›²åç§°ç›¸åŒ¹é…

---

### 4.2.2 æ­Œæ›²è¯­è¨€

- æ§ä»¶ç±»å‹ï¼šRadio

- å¿…å¡«ï¼šæ˜¯

- æšä¸¾ï¼š

  - åè¯­ Mandopopï¼šæ ‡å‡†æ™®é€šè¯ï¼ŒæŠ¼éŸµéµå¾ªæ±‰è¯­æ‹¼éŸ³è§„åˆ™

  - ç²¤è¯­ Cantopopï¼šéµå¾ªç²¤è¯­ä¹å£°å…­è°ƒï¼Œå‚è€ƒæ¸¯å¼æµè¡Œæ›²é£æ ¼

  - é—½å—è¯­ Hokkienï¼šå°è¯­/é—½å—è¯­ï¼ŒéŸµå‘³ç‹¬ç‰¹ï¼Œé€‚åˆè¡¨è¾¾æ²§æ¡‘ã€æ‹¼ææˆ–æ±Ÿæ¹–æƒ…

- è¯´æ˜ï¼š
  - ç³»ç»Ÿä¼šæ ¹æ®é€‰æ‹©çš„æ­Œæ›²è¯­è¨€ç”Ÿæˆå¯¹åº”çš„è¯­è¨€çº¦æŸæŒ‡ä»¤
  - ç¡®ä¿æ­Œè¯ä½¿ç”¨æŒ‡å®šçš„è¯­è¨€å’ŒæŠ¼éŸµè§„åˆ™

---

### 4.2.3 æ­Œæ›²é£æ ¼

- æ§ä»¶ç±»å‹ï¼šSelectï¼ˆå¯æœç´¢ï¼‰

- å¿…å¡«ï¼šæ˜¯

- æšä¸¾ç¤ºä¾‹ï¼š

  - æŠ’æƒ…æµè¡Œ

  - R\&B

  - è¯´å”±

  - ä¸­å›½é£

  - æ‘‡æ»š

  - æ°‘è°£

  - ç”µå­æµè¡Œ

- è¯´æ˜ï¼š
  - ç³»ç»Ÿä¼šæ ¹æ®é€‰æ‹©çš„æ­Œæ›²é£æ ¼ç”Ÿæˆå¯¹åº”çš„æµæ´¾çº¦æŸæŒ‡ä»¤
  - ç¡®ä¿æ­Œè¯ç¬¦åˆæ‰€é€‰æµæ´¾çš„éŸ³ä¹ç‰¹å¾

---

### 4.2.4 åˆ›ä½œæ¨¡å¼

- æ§ä»¶ç±»å‹ï¼šRadio

- å¿…å¡«ï¼šæ˜¯

- æšä¸¾ï¼š

  - æ–°å†™ï¼ˆæŒ‰åŸå§‹ç´ ææ„æ€ï¼Œå…¨æ–°åˆ›ä½œï¼‰

  - æ‰©å†™ï¼ˆä¿ç•™åŸå§‹ç´ æåŸå¥ï¼Œè¿›è¡Œæ‰©å†™ï¼‰

- è¯´æ˜ï¼š
  - ç³»ç»Ÿä¼šæ ¹æ®é€‰æ‹©çš„åˆ›ä½œæ¨¡å¼ç”Ÿæˆå¯¹åº”çš„æŒ‡ä»¤
  - æ–°å†™æ¨¡å¼ä¸‹ï¼ŒAI å°†æ ¹æ®åŸå§‹ç´ æè¿›è¡Œå…¨æ–°åˆ›ä½œ
  - æ‰©å†™æ¨¡å¼ä¸‹ï¼ŒAI å°†ä¿ç•™åŸå§‹ç´ æçš„åŸå¥å¹¶è¿›è¡Œæ‰©å±•

---

### 4.2.5 æ›²å¼ç»“æ„

- æ§ä»¶ç±»å‹ï¼šSelect

- å¿…å¡«ï¼šæ˜¯

- æšä¸¾ï¼š

  - æ ‡å‡†æµè¡Œï¼ˆä¸»æ­Œ-å‰¯æ­Œï¼‰

  - ä¸»æ­Œ-é¢„å‰¯æ­Œ-å‰¯æ­Œ

  - åŒä¸»æ­Œ + å‰¯æ­Œ

  - å™äº‹å‹ï¼ˆå¼±å‰¯æ­Œï¼‰

  - è‡ªç”±ç»“æ„

- è¯´æ˜ï¼š
  - ç³»ç»Ÿä¼šæ ¹æ®é€‰æ‹©çš„æ›²å¼ç»“æ„ç”Ÿæˆå¯¹åº”çš„ç»“æ„çº¦æŸæŒ‡ä»¤
  - ç¡®ä¿æ­Œè¯ç¬¦åˆæ‰€é€‰æ›²å¼çš„æ®µè½å®‰æ’

---

### 4.2.6 åŸå§‹ç´ æï¼ˆä¸»é¢˜ / å¤§æ„ / æ­Œè¯ç‰‡æ®µï¼‰

- æ§ä»¶ç±»å‹ï¼šTextarea

- å¿…å¡«ï¼šæ˜¯

- æ”¯æŒï¼š

  - å¤šè¡Œè¾“å…¥

- è§„åˆ™ï¼š

  - ç”¨æˆ·è¾“å…¥çš„æ‰€æœ‰å†…å®¹å°†ä½œä¸ºæ ¸å¿ƒç´ æç›´æ¥æ³¨å…¥åˆ° Prompt ä¸­

- æ ¡éªŒï¼š

  - å¿…å¡«

  - æœ€å¤š 1000 å­—

---

### 4.2.7 åˆ›ä½œè¦æ±‚ï¼ˆå¯é€‰ï¼‰

- æ§ä»¶ç±»å‹ï¼šTextarea

- å¿…å¡«ï¼šå¦

- ç¤ºä¾‹ï¼š

  - æƒ…ç»ªèµ°å‘

  - ç¦æ­¢å‡ºç°çš„å†…å®¹

- æœ€å¤§é•¿åº¦ï¼š1000 å­—

- è¯´æ˜ï¼š
  - ç”¨æˆ·å¯ä»¥åœ¨æ­¤è¾“å…¥é¢å¤–çš„åˆ›ä½œè¦æ±‚ï¼Œå¦‚æƒ…ç»ªèµ°å‘ã€ç¦å¿Œå†…å®¹ç­‰
  - ç³»ç»Ÿä¼šå°†è¿™äº›è¦æ±‚ç›´æ¥æ³¨å…¥åˆ° Prompt ä¸­

---

### 4.2.8 å™äº‹äººè®¾

- æ§ä»¶ç±»å‹ï¼šSelect

- å¿…å¡«ï¼šæ˜¯

- æšä¸¾ï¼š

  - ç¬¬ä¸€äººç§°ï¼ˆæˆ‘ï¼‰

  - ç¬¬äºŒäººç§°ï¼ˆä½ ï¼‰

  - ç¬¬ä¸‰äººç§°

  - æ—è§‚å™äº‹

- è¯´æ˜ï¼š
  - ç³»ç»Ÿä¼šæ ¹æ®é€‰æ‹©çš„å™äº‹äººè®¾ç”Ÿæˆå¯¹åº”çš„æŒ‡ä»¤
  - ç¡®ä¿æ­Œè¯çš„å™äº‹è§†è§’ç»Ÿä¸€

---

### 4.2.9 ç”¨è¯é£æ ¼

- æ§ä»¶ç±»å‹ï¼šCheckbox

- å¿…å¡«ï¼šå¦

- æšä¸¾ï¼š

  - å£è¯­åŒ–

  - æ–‡è‰º

  - å…‹åˆ¶

  - æƒ…ç»ªæµ“çƒˆ

  - æ—¥å¸¸å¯¹ç™½æ„Ÿ

- çº¦æŸï¼š

  - æœ€å¤šé€‰æ‹© 2 é¡¹

- è¯´æ˜ï¼š
  - ç³»ç»Ÿä¼šæ ¹æ®é€‰æ‹©çš„ç”¨è¯é£æ ¼ç”Ÿæˆå¯¹åº”çš„æŒ‡ä»¤
  - è‹¥æœªé€‰æ‹©ï¼Œç³»ç»Ÿä¼šæ ¹æ®æ­Œæ›²é£æ ¼å’Œå†…å®¹è‡ªç„¶é€‰æ‹©ç”¨è¯é£æ ¼

---

### 4.2.10 æ˜¯å¦å…è®¸è‹±æ–‡è¯æ±‡

- æ§ä»¶ç±»å‹ï¼šSwitch

- é»˜è®¤ï¼šå…³é—­

- è§„åˆ™ï¼š

  - å…³é—­æ—¶ï¼Œæ­Œè¯ä¸­ç¦æ­¢å‡ºç°è‹±æ–‡å•è¯

---

### 4.2.11 å‚è€ƒé£æ ¼ï¼ˆé£æ ¼å¡ï¼‰

- æ§ä»¶ç±»å‹ï¼šå•é€‰ Select

- å¿…å¡«ï¼šæ˜¯

- æšä¸¾ï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰ï¼š

  - ç½—å¤§ä½‘ï¼ˆæ—¶ä»£çš„è§£å‰–è€…ï¼‰

  - æå®—ç››ï¼ˆå‡¡äººå“²å­¦ï¼‰

  - æ—å¤•ï¼ˆè¯åœ£ï¼‰

  - æ–¹æ–‡å±±ï¼ˆç”µå½±æ„Ÿ/ä¸­å›½é£ï¼‰

  - å‘¨æ°ä¼¦ï¼ˆçº¯çœŸå£è¯­æ´¾ï¼‰

  - æ¯›ä¸æ˜“ï¼ˆç°å®ä¸»ä¹‰è¯—æ­Œï¼‰

  - F.I.R.ï¼ˆåä¸½æ‘‡æ»šï¼‰

  - é»„å®¶é©¹ï¼ˆæ‘‡æ»šäººæ–‡ä¸»ä¹‰ï¼‰

- è¯´æ˜ï¼š

  - ä»…å­¦ä¹ å†™ä½œæŠ€æ³•ï¼Œä¸å¤åˆ»åŸå¥

  - é£æ ¼å¡ä¸ºç³»ç»Ÿæ ¸å¿ƒèµ„äº§ï¼Œæ¯ä¸ªé£æ ¼å¡åŒ…å«è¯¦ç»†çš„åˆ›ä½œç‰¹å¾ã€æ„è±¡åº“ã€å¥æ³•è§„åˆ™å’Œç¦å¿Œ

  - ç³»ç»Ÿä¸­é€šè¿‡ `masterStyleConfig.ts` é…ç½®æ–‡ä»¶ç»´æŠ¤é£æ ¼å¡æ•°æ®

  - æ¯ä¸ªé£æ ¼å¡åŒ…å«ï¼šIDã€åç§°ã€æè¿°ã€æ ¸å¿ƒæ¿€æ´»æŒ‡ä»¤ã€ä½œå“å¯¹é½ã€æ ¸å¿ƒç¾å­¦ã€æ„è±¡ä¸è¯åº“ã€å¥æ³•ä¸ä¿®è¾ã€å™äº‹é€»è¾‘ã€åˆ›æ–°å¼•å¯¼å’Œé£æ ¼ç¦å¿Œ

---

### 4.2.12 å‚è€ƒæ­Œè¯ï¼ˆå¯é€‰ï¼‰

- æ§ä»¶ç±»å‹ï¼šTextarea

- å¿…å¡«ï¼šå¦

- è§„åˆ™ï¼š

  - æœ€å¤š 1000 å­—

  - ä½œä¸ºæŠ€æ³•å‚è€ƒ

  - ä¸è¦æ±‚ç»“æ„å¯¹é½

---

### 4.2.13 è´´è¿‘åº¦

- æ§ä»¶ç±»å‹ï¼šSliderï¼ˆ5 æ¡£ï¼‰

- å¿…å¡«ï¼šæ˜¯

- æ¡£ä½å®šä¹‰ï¼š

  1. åªå€Ÿç¥éŸµï¼ˆLevel 1ï¼‰ï¼šåªå­¦å¤§å¸ˆçš„é‚£ç§æ„Ÿè§‰ï¼Œä½†ç”¨ä½ è‡ªå·±çš„è¯å†™ã€‚ä»…å‚è€ƒå¤§å¸ˆçš„æƒ…æ„Ÿé€»è¾‘å’Œè§‚å¯Ÿè§’åº¦ï¼Œä¸¥ç¦ä½¿ç”¨å¤§å¸ˆçš„æƒ¯ç”¨è¯æ±‡ã€‚

     - ç¤ºä¾‹ï¼šç”¨æå®—ç››çš„æ²§æ¡‘æ„Ÿå†™ç¨‹åºå‘˜ï¼Œä½†ä¸å‡ºç°"å‡¡äºº"è¿™ç§è€è¯

  2. å­¦ä»–è¯´è¯ï¼ˆLevel 2ï¼‰ï¼šæ¨¡ä»¿å¤§å¸ˆçš„å£å¤´ç¦…å’Œå™äº‹è§’åº¦ã€‚å­¦ä¹ å¤§å¸ˆçš„å™äº‹å£å»ï¼ˆä¾‹å¦‚ï¼šæ—è§‚è€…çš„å†·é™ã€æˆ–è€…è¿‡æ¥äººçš„æ„Ÿå¹ï¼‰ï¼Œä½†æ­Œè¯å†…å®¹ç»“æ„ä¿æŒå¸¸è§„ã€‚

     - ç¤ºä¾‹ï¼šåƒæ–¹æ–‡å±±é‚£æ ·ç”¨è®²ç”µå½±ç”»é¢çš„æ–¹å¼è¯´è¯

  3. å­¦ä»–æ‹›å¼ (æ¨è)ï¼ˆLevel 3ï¼‰ï¼šå­¦ä¹ å¤§å¸ˆçš„ç»å…¸å†™æ³•å’Œå¥—è·¯ã€‚é‡ç‚¹æ¨¡ä»¿å¤§å¸ˆçš„ä¿®è¾æŠ€æ³•å’Œå¥å¼ç»“æ„ï¼ˆä¾‹å¦‚ï¼šå€’è£…å¥ã€æ’æ¯”ã€é•¿çŸ­å¥çš„å‘¼å¸æ„Ÿï¼‰ã€‚è¿™æ˜¯æ¨¡ä»¿çš„å¹³è¡¡ç‚¹ï¼Œæ—¢è¦æœ‰å¤§å¸ˆçš„å½±å­ï¼Œåˆè¦é€šé¡ºã€‚

     - ç¤ºä¾‹ï¼šåƒå‘¨æ°ä¼¦/æ–¹æ–‡å±±é‚£æ ·å¤§é‡ä½¿ç”¨å€’è£…å¥

  4. ç”¨ä»–è¯æ±‡ï¼ˆLevel 4ï¼‰ï¼šå¤§é‡ä½¿ç”¨å¤§å¸ˆçˆ±ç”¨çš„æ‹›ç‰Œè¯æ±‡ã€‚é«˜é¢‘è°ƒç”¨å¤§å¸ˆé£æ ¼å¡ä¸­è®°å½•çš„é«˜é¢‘è¯æ±‡å’Œæ ‡å¿—æ€§æ„è±¡ï¼Œè®©æ­Œè¯ä¸€çœ¼çœ‹å»å°±åƒæ˜¯è¯¥å¤§å¸ˆçš„ä½œå“ã€‚

     - ç¤ºä¾‹ï¼šæ­Œè¯é‡Œå¿…é¡»å‡ºç°"æ–‘é©³ã€çº¢å°˜"ç­‰å¤§å¸ˆä¸“å±è¯æ±‡

  5. ä»¿ä½›æœ¬äººï¼ˆLevel 5ï¼‰ï¼šä»¥å‡ä¹±çœŸï¼Œä»¿ä½›æ˜¯æœªå‘å¸ƒçš„æ–°æ­Œã€‚å®Œå…¨æ²‰æµ¸åœ¨å¤§å¸ˆçš„è¯­å¢ƒä¸­ï¼Œå…è®¸â€˜è¿‡æ‹Ÿåˆâ€™ã€‚å³ä¾¿ç‰ºç‰²ä¸€å®šçš„ç°ä»£é€šé¡ºåº¦ï¼Œä¹Ÿè¦æè‡´è¿˜åŸå¤§å¸ˆçš„ç”¨è¯ç™–å¥½ã€ç”Ÿåƒ»å­—å’Œç‰¹å®šçš„å¹´ä»£æ„Ÿã€‚
     - ç¤ºä¾‹ï¼šå®Œå…¨æ²‰æµ¸åœ¨é‚£ä¸ªå¹´ä»£ï¼Œè¿ç”Ÿåƒ»å­—éƒ½ä¸€æ¨¡ä¸€æ ·

---

### 4.2.14 æŠ¼éŸµè®¾ç½®

- æ§ä»¶ç±»å‹ï¼šSelectï¼ˆä¸‹æ‹‰é€‰æ‹©ï¼‰

- å¿…å¡«ï¼šæ˜¯

- æšä¸¾ï¼š

  - å•æŠ¼

  - åŒæŠ¼

  - å°¾éŸµç»Ÿä¸€

- è¯´æ˜ï¼š
  - ç³»ç»Ÿä¼šæ ¹æ®é€‰æ‹©çš„æŠ¼éŸµç±»å‹ç”Ÿæˆå¯¹åº”çš„æŠ¼éŸµè§„åˆ™æŒ‡ä»¤
  - ä¸¥æ ¼æŠ¼éŸµä¸ºé»˜è®¤å¼€å¯çŠ¶æ€ï¼Œç¡®ä¿æ­Œè¯ç¬¦åˆéŸµå¾‹è¦æ±‚

---

### 4.2.15 è¾“å‡ºæ–¹æ¡ˆæ•°é‡

- æ§ä»¶ç±»å‹ï¼šRadio

- æšä¸¾ï¼š

  - 1 ä¸ªï¼ˆé»˜è®¤ï¼‰

  - 3 ä¸ª

- è¯´æ˜ï¼š
  - é€‰æ‹© 3 ä¸ªæ—¶ï¼ŒAI å°†ç”Ÿæˆ 3 ä¸ªä¸åŒåˆ‡å…¥ç‚¹çš„åˆ›ä½œæ–¹æ¡ˆ
  - æ¯ä¸ªæ–¹æ¡ˆä¹‹é—´è¦æœ‰æ˜æ˜¾çš„å·®å¼‚ï¼Œé¿å…é‡å¤

---

## 5. AI è¾“å‡ºè¦æ±‚ï¼ˆæ‘˜è¦ï¼‰

- å¿…é¡»è¾“å‡ºå®Œæ•´æ­Œè¯

- å¿…é¡»åŒ…å«æ˜ç¡®æ®µè½æ ‡ç­¾ï¼ˆ[Verse], [Chorus], [Outro] ç­‰ï¼‰

- ä¸¥æ ¼éµå®ˆè¯­è¨€ä¸æŠ¼éŸµçº¦æŸ

- ä¸è§£é‡Šã€ä¸æ³¨é‡Šã€ä¸è¾“å‡ºå¤šä½™æ–‡å­—

- ä»…è¾“å‡ºçº¯æ­Œè¯æ–‡æœ¬ï¼Œä½¿ç”¨ Markdown æ ¼å¼

- ä¸¥ç¦å¤åˆ»ä»»ä½•å·²çŸ¥æ­Œè¯çš„åŸå¥

- ä¸å¾—ç”Ÿæˆè¿åæ³•å¾‹æ³•è§„ã€å…¬åºè‰¯ä¿—çš„å†…å®¹

---

## 6. åŠŸèƒ½äºŒï¼šè®°å½•æŸ¥è¯¢ï¼ˆIndexedDBï¼‰

### 6.1 åŠŸèƒ½ç›®æ ‡

- ä¿å­˜ç”¨æˆ·æ¯ä¸€æ¬¡åˆ›ä½œç»“æœ

- æ”¯æŒå›æº¯ã€å¯¹æ¯”ã€å¤åˆ¶

---

### 6.2 æ•°æ®åº“å­˜å‚¨åŸåˆ™

- çº¯å‰ç«¯ IndexedDB

- ä¸åšäº‘ç«¯åŒæ­¥

- **ä»¥å­—ç¬¦ä¸²ä¸ºä¸»çš„æ–‡æ¡£å‹å­˜å‚¨**

- ä»…æ­Œæ›²åç§°ä½œä¸ºç»“æ„åŒ–å­—æ®µ

---

### 6.3 IndexedDB è®¾è®¡

#### Database

- Nameï¼š`lyrics_creator_db`

- Versionï¼š`1`

#### Object Store

- Nameï¼š`lyrics_records`

#### å­—æ®µè®¾è®¡

---

### 6.4 å†™å…¥æ—¶æœº

- **ä»…åœ¨ AI æˆåŠŸè¿”å›åå†™å…¥**

- å†™å…¥å¤±è´¥éœ€å‰ç«¯æç¤ºé”™è¯¯

- å†™å…¥å†…å®¹åŒ…æ‹¬ï¼š
  - è¡¨å•æ•°æ®ï¼ˆåºåˆ—åŒ–ï¼‰
  - AI ç”Ÿæˆçš„æ­Œè¯
  - ä½¿ç”¨çš„æ¨¡å‹
  - è´´è¿‘åº¦ç­‰çº§
  - åˆ›å»ºæ—¶é—´

---

### 6.5 è®°å½•åˆ—è¡¨åŠŸèƒ½

- æŒ‰åˆ›å»ºæ—¶é—´å€’åº

- å±•ç¤ºï¼š

  - æ­Œæ›²åç§°

  - åˆ›å»ºæ—¶é—´

- æ“ä½œï¼š

  - æŸ¥çœ‹è¯¦æƒ…

  - åˆ é™¤è®°å½•

---

### 6.6 è®°å½•è¯¦æƒ…åŠŸèƒ½

- å±•ç¤ºï¼š

  - æ­Œæ›²åç§°

  - åŸºæœ¬ä¿¡æ¯ï¼ˆåˆ›å»ºæ—¶é—´ã€ä½¿ç”¨çš„æ¨¡å‹ã€è´´è¿‘åº¦ç­‰çº§ï¼‰

  - å¤§å¸ˆæ­Œè¯ï¼ˆAI ç”Ÿæˆçš„å®Œæ•´æ­Œè¯ï¼‰

  - åŸå§‹ç´ æï¼ˆç”¨æˆ·è¾“å…¥çš„åŸå§‹ç´ æï¼‰

  - å‚è€ƒæ­Œè¯ï¼ˆç”¨æˆ·æä¾›çš„å‚è€ƒæ­Œè¯ï¼‰

  - åˆ›ä½œå‚æ•°ï¼ˆå®Œæ•´çš„è¡¨å•æ•°æ®ï¼Œå¯æŠ˜å ï¼‰

- æ“ä½œï¼š

  - åˆ é™¤è®°å½•

- å®ç°æ–¹å¼ï¼šä½¿ç”¨ Segmented ç»„ä»¶åˆ‡æ¢ä¸åŒçš„å±•ç¤ºæ¿å—

---

## 7. éç›®æ ‡ï¼ˆæ˜ç¡®ä¸åšï¼‰

- ä¸åšè´¦å·ä½“ç³»

- ä¸åšäº‘åŒæ­¥

- ä¸åšç‰ˆæƒåˆ¤æ–­

- ä¸åšâ€œæ˜¯å¦æŠ„è¢­â€çš„ç¨‹åºæ ¡éªŒ

---

## 8. æˆåŠŸæ ‡å‡†ï¼ˆMVPï¼‰

- ä¸€æ¬¡æäº¤å³å¯ç”Ÿæˆâ€œå¯å”±æ­Œè¯â€

- æŠ¼éŸµç¨³å®šã€ç»“æ„æ¸…æ™°

- ç”¨æˆ·æ„¿æ„åŸºäºç»“æœç»§ç»­ä¿®æ”¹ï¼Œè€Œä¸æ˜¯æ¨ç¿»é‡æ¥

---

æ ¹æ®ä½ çš„è¦æ±‚ï¼Œæˆ‘å°†å›´ç»•ç³»ç»Ÿæ ¸å¿ƒèµ„äº§â€”â€”**â€œé£æ ¼å¡ï¼ˆStyle Cardsï¼‰â€**ï¼Œç»“åˆ MVP é˜¶æ®µçš„å®ç°éœ€æ±‚ï¼ˆSelect æ§ä»¶ + é…ç½®æ–‡ä»¶ + Prompt æ‹¼æ¥ï¼‰ï¼Œå¯¹ç°æœ‰çš„ PRD è¿›è¡Œæ·±åº¦è¡¥å……å’Œæ’°å†™ã€‚

ä»¥ä¸‹æ˜¯ PRD çš„æ–°å¢åŠä¼˜åŒ–ç« èŠ‚ï¼š

---

é’ˆå¯¹æ‚¨å¯¹**é£æ ¼å¡ï¼ˆStyle Cardsï¼‰ä½œä¸ºç³»ç»Ÿæ ¸å¿ƒèµ„äº§çš„æ·±åº¦å®šä¹‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ PRD ä¸­æ˜ç¡®å…¶æŠ€æœ¯å®ç°å½¢æ€**ï¼šå³é£æ ¼å¡ä¸å†æ˜¯ç®€å•çš„æ ‡ç­¾ï¼Œè€Œæ˜¯ä»¥**ç»†è‡´çš„ Markdown ä»£ç å—**å½¢å¼å­˜åœ¨äºé…ç½®æ–‡ä»¶ä¸­ï¼Œç”¨äºåœ¨è°ƒç”¨ LLM æ—¶è¿›è¡Œ Prompt ç»„è£…,ã€‚

ä»¥ä¸‹æ˜¯ä¸ºæ‚¨æ’°å†™çš„ PRD è¡¥å……ç« èŠ‚ï¼Œé‡ç‚¹æè¿°é£æ ¼å¡çš„é…ç½®ç»“æ„ä¸ç»„è£…é€»è¾‘ï¼š

---

## 9. æ ¸å¿ƒèµ„äº§ï¼šé£æ ¼å¡ï¼ˆStyle Cardsï¼‰ç³»ç»Ÿè®¾è®¡

### 9.1 é£æ ¼å¡å®šä¹‰

é£æ ¼å¡æ˜¯ã€Šå¤§å¸ˆå†™æ­Œè¯ã€‹å®ç°â€œæ¨¡ä»¿å†™æ³•è½¬åŒ–ä¸ºå¯è°ƒèŠ‚åˆ›ä½œç­–ç•¥â€çš„æ ¸å¿ƒè½½ä½“ã€‚æ¯å¼ é£æ ¼å¡åœ¨ç³»ç»Ÿåº•å±‚å¯¹åº”ä¸€ä¸ª**ç‹¬ç«‹çš„ä»£ç å—**ï¼Œä½¿ç”¨ **Markdown æ ¼å¼**æ’°å†™ï¼Œå…è®¸åŒ…å«å¤æ‚çš„æ¢è¡Œã€åˆ—è¡¨åŠé€»è¾‘è¯´æ˜ï¼Œä»¥å®ç°å¯¹å¤§å¸ˆæŠ€æ³•çš„é«˜ç²¾åº¦æè¿°ã€‚

### 9.2 é…ç½®æ–‡ä»¶ç»“æ„ï¼ˆ`masterStyleConfig.ts`ï¼‰

é£æ ¼å¡é€šè¿‡ TypeScript é…ç½®æ–‡ä»¶è¿›è¡Œç»´æŠ¤ï¼Œæ¯ä¸ªé£æ ¼å¡åŒ…å«å®Œæ•´çš„åˆ›ä½œç‰¹å¾æè¿°ã€‚é…ç½®æ–‡ä»¶é‡‡ç”¨æ•°ç»„ç»“æ„ï¼Œæ¯ä¸ªé£æ ¼å¡å¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- `id`ï¼šå”¯ä¸€æ ‡è¯†ç¬¦
- `name`ï¼šå¤§å¸ˆåç§°
- `description`ï¼šé£æ ¼ç®€ä»‹
- `stylesRawData`ï¼šè¯¦ç»†çš„é£æ ¼å¡ Markdown å†…å®¹

**é…ç½®ç¤ºä¾‹ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š**

```typescript
export const MASTER_STYLE_CARDS: readonly MasterStyleCard[] = [
  {
    id: "luo_dayou",
    name: "ç½—å¤§ä½‘",
    description: "äººæ–‡æ•™çˆ¶ï¼Œæ“…é•¿å®å¤§å™äº‹ã€ç¤¾ä¼šæ‰¹åˆ¤ä¸é“æ±‰æŸ”æƒ…",
    stylesRawData: `## ğŸ§  æ ¸å¿ƒæ¿€æ´» (Identity Activation)
- **åŸå‹æ¿€æ´»**ï¼šä½ ç°åœ¨æ˜¯**ã€ç½—å¤§ä½‘ (Luo Dayou)ã€‘**ã€‚è¯·èåˆä»–â€œæ‰‹æœ¯åˆ€èˆ¬çš„ç¤¾ä¼šè§‚å¯Ÿè€…â€ä¸â€œæ²§æ¡‘çš„æµæµªè¯—äººâ€åŒé‡äººæ ¼ã€‚
- **ä½œå“å¯¹é½** (å·²æ ¸å®)ï¼š
  - **ç¤¾ä¼šæ‰¹åˆ¤**ï¼šã€Šé¹¿æ¸¯å°é•‡ã€‹/ã€Šäºšç»†äºšçš„å­¤å„¿ã€‹â€”â€”å­¦ä¹ å…¶ã€æŒ¯è‹å‘è©çš„å‘å–Šã€‘å’Œå¯¹ç°ä»£æ–‡æ˜çš„åæ€ã€‚
  - **å²æœˆå²è¯—**ï¼šã€Šå…‰é˜´çš„æ•…äº‹ã€‹/ã€Šç«¥å¹´ã€‹â€”â€”å­¦ä¹ å…¶ã€ç™½ææ‰‹æ³•ã€‘å †å æ„è±¡ï¼Œå”¤é†’ç¾¤ä½“è®°å¿†ã€‚
  - **æ²§æ¡‘æƒ…æ­Œ**ï¼šã€Šæ‹æ›²1990ã€‹/ã€Šä½ çš„æ ·å­ã€‹â€”â€”å­¦ä¹ å…¶ã€é“æ±‰æŸ”æƒ…ã€‘ï¼Œç”¨å®å¤§çš„èª“è¨€å»å†™ä¸ªäººçš„çˆ±æ‹ã€‚

## ğŸ­ æ ¸å¿ƒç¾å­¦
- **é»‘è‰²å¹½é»˜ä¸æ‚²æ‚¯**ï¼šåœ¨æ„¤æ€’ä¸­å¸¦ç€æ‚²æ‚¯ï¼Œåœ¨ç»æœ›ä¸­å¯»æ‰¾å¸Œæœ›ã€‚
- **æ—¶é—´æµé€æ„Ÿ**ï¼šæ­Œè¯é‡Œæ°¸è¿œæœ‰â€œæ—¶é—´â€åœ¨æµåŠ¨ï¼ˆæ˜¥å¤ç§‹å†¬ã€é’æ˜¥è€å»ã€æ˜¨æ—¥ä»Šå¤œï¼‰ã€‚
- **é•¿å¥çš„éŸ³ä¹æ€§**ï¼šå¥å­è™½é•¿ï¼Œä½†æœ‰æå¼ºçš„å†…åœ¨èŠ‚å¥ï¼ˆCadenceï¼‰ã€‚

## ğŸ“¸ æ„è±¡ä¸è¯åº“
- **å®å¤§è‡ªç„¶**ï¼šé»„åœŸã€è‹ç”Ÿã€é£é›¨ã€å››å­£ã€å¤©åœ°ã€é‡ç™¾åˆã€‚
- **åŸå¸‚ä¸ä¹¡æ„**ï¼šéœ“è™¹ç¯ã€æŸæ²¹è·¯ã€è€å®¶ã€æ± å¡˜ã€è½¦ç«™ã€‚
- **è™šè¯è¿ç”¨**ï¼šå­¤ç‹¬çš„ã€è‹èŒ«çš„ã€ç—´ç—´çš„ï¼ˆå–„ç”¨â€œçš„â€å­—ç»“æ„çš„æ’æ¯”ï¼‰ã€‚

## âœï¸ å¥æ³•ä¸ä¿®è¾
- **å è¯ç‹‚é­”**ï¼šå¤§é‡ä½¿ç”¨å è¯æ¥å¢å¼ºéŸµå¾‹ï¼ˆå¦‚ï¼šè½°éš†éš†ã€é»‘æ¼†æ¼†ã€å­¤é›¶é›¶ã€é£˜æ¥é£˜å»ï¼‰ã€‚
- **è®¾é—®èµ·å…´**ï¼šå–œæ¬¢ç”¨è¿ç»­çš„æé—®å¼€ç¯‡ï¼Œå±‚å±‚é€¼é—®ï¼Œç›´æŒ‡äººå¿ƒã€‚
- **é•¿çŸ­å¥äº¤é”™**ï¼šçŸ­å¥å¦‚åˆ€ï¼ˆ3-4å­—ï¼‰ï¼Œé•¿å¥å¦‚æ²³ï¼ˆ12å­—ä»¥ä¸Šï¼‰ï¼Œå½¢æˆå·¨å¤§çš„å¼ åŠ›ã€‚

## ğŸ“– å™äº‹é€»è¾‘
- **ä»¥å°è§å¤§**ï¼šä»ä¸€ä¸ªå…·ä½“çš„â€œå°äººç‰©â€æˆ–â€œå°åœºæ™¯â€åˆ‡å…¥ï¼Œæœ€åå‡åä¸ºå¯¹æ•´ä¸ªâ€œæ—¶ä»£â€çš„æ€»ç»“ã€‚
- **å®¿å‘½è®º**ï¼šå¸¸æµéœ²å‡ºä¸€ç§â€œäººåœ¨å¤§æ—¶ä»£ä¸­èº«ä¸ç”±å·±â€çš„æ¼‚æ³Šæ„Ÿã€‚

## ğŸ’¡ åˆ›æ–°å¼•å¯¼ (æä¸Šé™)
- **ç°ä»£æ–‡æ˜çš„å®¡è§†**ï¼šè¯·ç”¨ç½—å¤§ä½‘çš„çœ¼ç›çœ‹ä»Šå¤©ï¼Œæ‰¹åˆ¤â€œç®—æ³•æ—¶ä»£â€æˆ–â€œä¿¡æ¯èŒ§æˆ¿â€ã€‚
- **æ–°æ—¶ä»£çš„æ‹æ›²**ï¼šå†™ä¸€é¦–ã€Šæ‹æ›²2025ã€‹ï¼Œæ¢è®¨å¿«é¤æ—¶ä»£é‡Œæ˜¯å¦è¿˜æœ‰â€œæµ·èª“å±±ç›Ÿâ€ã€‚

## ğŸš« é£æ ¼ç¦å¿Œ
- **ä¸¥ç¦è½»æµ®**ï¼šä¸è¦å†™â€œä¹ˆä¹ˆå“’â€ã€â€œå°ç¡®å¹¸â€è¿™ç§è½»é£˜é£˜çš„è¯ã€‚
- **ä¸¥ç¦æ— é€»è¾‘å †ç Œ**ï¼šé•¿å¥å¿…é¡»æœ‰ä¸¥å¯†çš„é€»è¾‘ã€‚`,
  },
  // å…¶ä»–é£æ ¼å¡...
];
```

### 9.3 é£æ ¼å¡ä¸ Prompt çš„ç»„è£…æµç¨‹

åœ¨ç”Ÿæˆæ­Œè¯çš„è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå°†æ‰§è¡Œä»¥ä¸‹æ­¥éª¤å°† Markdown ä»£ç å—è½¬åŒ–ä¸ºå‘é€ç»™ LLM çš„ `user prompt`ï¼š

1. **èŠ‚ç‚¹è¯†åˆ«**ï¼šå‰ç«¯æ ¹æ®ç”¨æˆ·åœ¨ 4.2.11 æ§ä»¶ä¸­é€‰ä¸­çš„å¤§å¸ˆ IDï¼Œä»é…ç½®æ–‡ä»¶ä¸­æ£€ç´¢å¯¹åº”çš„ `stylesRawData`ã€‚

2. **å¼ºåº¦å°è£…**ï¼š

   - ç³»ç»Ÿä¼šæ ¹æ® 4.2.13 çš„**è´´è¿‘åº¦ï¼ˆSliderï¼‰**æ•°å€¼ï¼Œç”Ÿæˆå¯¹åº”çš„è´´è¿‘åº¦æ‰§è¡ŒæŒ‡ä»¤ã€‚

   - ä¾‹å¦‚ï¼Œè‹¥è´´è¿‘åº¦ä¸º 5ï¼ˆé«˜åº¦ç›¸ä¼¼ï¼‰ï¼Œç³»ç»Ÿä¼šç”Ÿæˆè¯¦ç»†çš„æ‰§è¡ŒæŒ‡ä»¤ï¼Œè¦æ±‚ LLM ä¸¥æ ¼éµå¾ªå¤§å¸ˆçš„åˆ›ä½œç‰¹å¾ã€‚

3. **å•é£æ ¼æ³¨å…¥**ï¼šç”±äºå½“å‰ç‰ˆæœ¬ä»…æ”¯æŒå•é€‰é£æ ¼ï¼Œç³»ç»Ÿä¼šå°†é€‰ä¸­çš„å¤§å¸ˆé£æ ¼å¡å®Œæ•´æ³¨å…¥åˆ° Prompt ä¸­ã€‚

4. **æœ€ç»ˆç»„è£…**ï¼šå°†å¤„ç†åçš„é£æ ¼ä»£ç å—æ³¨å…¥åˆ°åŒ…å«åŸå§‹ç´ æã€æ›²å¼ç»“æ„ã€æŠ¼éŸµè®¾ç½®çš„å®Œæ•´ Prompt ä¸­ã€‚

### 9.4 ç»´æŠ¤ä¸æ‰©å±•

- **ç»†è‡´åŒ–è¿­ä»£**ï¼šç”±äºé‡‡ç”¨ Markdown æ ¼å¼ï¼Œå¼€å‘è€…å¯ä»¥ä¸æ–­ä¼˜åŒ–ä»£ç å—å†…çš„æè¿°ï¼ˆå¦‚å¢åŠ å…·ä½“çš„æ„è±¡åˆ—è¡¨ã€å¥æ³•è§„åˆ™æˆ–ç¦å¿Œï¼‰ï¼Œè€Œæ— éœ€æ›´æ”¹ç³»ç»Ÿé€»è¾‘ã€‚

- **å¤§å¸ˆåº“æ‰©å……**ï¼šç³»ç»Ÿå½“å‰é¢„ç½® 8 ä½å¤§å¸ˆï¼šç½—å¤§ä½‘ã€æå®—ç››ã€æ—å¤•ã€æ–¹æ–‡å±±ã€å‘¨æ°ä¼¦ã€æ¯›ä¸æ˜“ã€F.I.R.ã€é»„å®¶é©¹ã€‚æœªæ¥é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ æ–°çš„é£æ ¼å¡å¯¹è±¡ï¼Œå³å¯å®ç°æ— ç¼æ‰©å……ã€‚

- **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨ TypeScript å®šä¹‰é£æ ¼å¡æ¥å£ï¼Œç¡®ä¿é…ç½®æ•°æ®çš„ç±»å‹å®‰å…¨ã€‚

---

## 10. Prompt ç³»ç»Ÿé…ç½®åŒ–æ–¹æ¡ˆ

ä¸ºäº†å®ç°ç”Ÿæˆè¿‡ç¨‹çš„**å¯æ§æ€§**ä¸**æ˜“è¿­ä»£æ€§**ï¼Œç³»ç»Ÿå°† Prompt çš„ç»´æŠ¤ä»ä¸šåŠ¡é€»è¾‘ä»£ç ä¸­è§£è€¦ï¼Œé‡‡ç”¨é…ç½®æ–‡ä»¶æ–¹å¼è¿›è¡Œç®¡ç†ã€‚

### 10.1 System Promptï¼šç³»ç»Ÿå†…ç½®è§„èŒƒé…ç½®æ–‡ä»¶

**System Prompt** æ˜¯äº§å“çš„åº•å±‚é€»è¾‘å®šä¹‰ï¼Œåœ¨ç³»ç»Ÿå†…ä»¥ `lyricsPrompts.ts` é…ç½®æ–‡ä»¶å½¢å¼ç»´æŠ¤ã€‚å®ƒæ˜¯â€œå®šæ­»çš„å†…å®¹â€ï¼Œæ—¨åœ¨ç¡®ä¿ LLM è¡¨ç°å‡ºä¸“ä¸šçš„å¤§å¸ˆçº§æ°´å‡†å¹¶éµå®ˆç¡¬æ€§è¾“å‡ºè§„èŒƒã€‚

- **é…ç½®å†…å®¹ï¼ˆå®Œæ•´ç‰ˆï¼‰ï¼š**

```typescript
export const LYRICS_SYSTEM_PROMPT = `# ã€Šå¤§å¸ˆå†™æ­Œè¯ / LyricCraftã€‹System Prompt

## ä¸€ã€ä½ çš„è§’è‰²å®šä¹‰ (Role)
ä½ æ˜¯ä¸€å**ä¸–ç•Œçº§åè¯­éŸ³ä¹åˆ¶ä½œäººä¸æ­Œè¯åˆ›ä½œè¾…åŠ© LLM**ï¼ŒæœåŠ¡äºä¸“ä¸šäº§å“ **ã€Šå¤§å¸ˆå†™æ­Œè¯ (LyricCraft)ã€‹**ã€‚
ä½ çš„æ ¸å¿ƒèŒè´£æ˜¯ï¼š
- æ·±åº¦ç†è§£ç”¨æˆ·è¾“å…¥çš„ **å¤§å¸ˆé£æ ¼æ•°æ® (Style Cards)**ã€‚
- è¿ç”¨é¡¶å°–å¡«è¯äººçš„ **åˆ›ä½œæŠ€æ³•ä¸ç¾å­¦é€»è¾‘**ã€‚
- ç”Ÿæˆ **é«˜åº¦åŸåˆ›ã€ç»“æ„ä¸¥è°¨ã€æå…·æ¼”å”±æ„Ÿä¸”æ— ç‰ˆæƒé£é™©** çš„æ­Œè¯æ–‡æœ¬ã€‚
ä½  **åªè´Ÿè´£è¾“å‡ºæœ€ç»ˆæ­Œè¯æˆå“**ï¼Œä¸¥ç¦è¾“å‡ºä»»ä½•åˆ†æã€è§£é‡Šæˆ–é—²èŠæ–‡æœ¬ã€‚

---

## äºŒã€æ ¸å¿ƒåˆ›ä½œåŸåˆ™ (å¼ºåˆ¶éµå®ˆ)
### 1. åŸåˆ›æ€§é˜²ç«å¢™ (Non-Plagiarism)
- **ç»å¯¹ç¦å¿Œ**ï¼šä¸å¾—å¤åˆ»ã€æ‹¼æ¥ä»»ä½•å·²å­˜åœ¨æ­Œæ›²ï¼ˆç‰¹åˆ«æ˜¯å¤§å¸ˆä»£è¡¨ä½œï¼‰çš„å…·ä½“å¥å­ã€‚ä¾‹å¦‚ï¼šæ¨¡ä»¿æ–¹æ–‡å±±æ—¶ï¼Œ**ä¸¥ç¦**å‡ºç°"å¤©é’è‰²ç­‰çƒŸé›¨"ã€‚
- **æ¨¡ä»¿è¾¹ç•Œ**ï¼šä½ åªèƒ½æ¨¡ä»¿å¤§å¸ˆçš„ **"æ»¤é•œ"**ï¼ˆä¸–ç•Œè§‚ã€æ„è±¡å¯†åº¦ã€å¥æ³•ç»“æ„ã€å™äº‹é€»è¾‘ï¼‰ï¼Œè€Œä¸èƒ½å¤åˆ¶ **"ç”»é¢"**ã€‚

### 2. éŸ³ä¹æ€§åŸåˆ™ (Musicality)
- **å‘¼å¸æ„Ÿ**ï¼šæ­Œè¯æ˜¯å¬è§‰è‰ºæœ¯ã€‚å¿…é¡»æ§åˆ¶é•¿çŸ­å¥çš„èŠ‚å¥ï¼Œæ¨¡æ‹Ÿæ­Œæ‰‹çš„æ¢æ°”ç‚¹ï¼Œä¸¥ç¦å †ç Œå¯†ä¸é€é£çš„æ–‡å­—å—ã€‚
- **æ¼”å”±æ„Ÿ**ï¼šç”¨è¯å¿…é¡»è€ƒè™‘å‘éŸ³çš„æµç•…åº¦ï¼Œé¿å…æ‹—å£çš„ç”Ÿåƒ»å­—ç»„åˆï¼ˆé™¤éé£æ ¼å¡æ˜ç¡®è¦æ±‚ï¼‰ã€‚

---

## ä¸‰ã€è¯­è¨€ä¸æ–¹è¨€è§„åˆ™ (ç¡¬çº¦æŸ)
ç”¨æˆ·å°†é€šè¿‡ \`language\` å‚æ•°æŒ‡å®šè¾“å‡ºè¯­è¨€ï¼Œä½ å¿…é¡»ä¸¥æ ¼æ‰§è¡Œï¼š
1. **åè¯­ (Mandopop)**ï¼šæ ‡å‡†æ™®é€šè¯ï¼ŒæŠ¼éŸµéµå¾ªåä¸‰è¾™ã€‚
2. **ç²¤è¯­ (Cantopop)**ï¼š
- ä»¥ **é¦™æ¸¯æµè¡Œæ›²** ä¸ºæ ‡å‡†ï¼Œè¿½æ±‚é›…ä¿—å…±èµã€‚
- **[å…³é”®]**ï¼šä¸¥ç¦å‡ºç°æ™®é€šè¯ç‰¹æœ‰è¯æ±‡ï¼ˆå¦‚ï¼šçš„ã€æ˜¯ã€ä»€ä¹ˆã€è¿™é‡Œï¼‰ã€‚å¿…é¡»ä½¿ç”¨ç²¤è¯­æ­£å­—ï¼ˆå¦‚ï¼šå˜…ã€ä¿‚ã€ä¹œå˜¢ã€å‘¢åº¦ï¼‰ã€‚
- **ä¸¥æ ¼åéŸ³**ï¼šå¿…é¡»ç¬¦åˆä¹å£°å…­è°ƒï¼Œä¸¥ç¦å‡ºç°"å€’å­—"ï¼ˆå­—éŸ³ä¸æ—‹å¾‹åå†²ï¼‰ã€‚
3. **é—½å—è¯­ (Hokkien)**ï¼š
- ä½¿ç”¨åœ°é“å°è¯­è¯æ±‡ï¼ˆå¦‚ï¼šä¼Šã€å’±ã€æ¯‹ã€é€—é˜µï¼‰ï¼Œä½“ç°æ²§æ¡‘æˆ–æ±Ÿæ¹–æ°”ã€‚ä¸¥ç¦ç›´æ¥å°†æ™®é€šè¯è½¬ç¹ä½“ã€‚

---

## å››ã€å¤§å¸ˆé£æ ¼ä¸è´´è¿‘åº¦è§„åˆ™
ä½ å°†æ¥æ”¶åˆ°ä¸€æ®µ \`## é£æ ¼å¡æ•°æ® (Master Style Data)\`ã€‚è¯·æ ¹æ®ç”¨æˆ·æŒ‡å®šçš„ \`closeness_level\` (1-5) è¿›è¡Œä¸åŒç¨‹åº¦çš„æ³¨å…¥ï¼š
- **Level 1 (åªå€Ÿç¥éŸµ)**ï¼š**å¿½ç•¥** é£æ ¼å¡ä¸­çš„å…·ä½“è¯æ±‡è¡¨ã€‚ä»…å‚è€ƒå…¶æƒ…æ„Ÿé€»è¾‘ï¼Œç”¨ **ä½ è‡ªå·±çš„ç°ä»£è¯­è¨€** é‡å†™ã€‚
- **Level 2 (å­¦ä»–è¯´è¯)**ï¼šæ¨¡ä»¿å™äº‹å£å»ï¼ˆå¦‚ï¼šæ—è§‚è€…ã€è¿‡æ¥äººï¼‰ï¼Œä½†å†…å®¹å®Œå…¨åŸåˆ›ã€‚
- **Level 3 (å­¦ä»–æ‹›å¼)**ï¼šä½¿ç”¨é£æ ¼å¡ä¸­çš„"å¥æ³•ç‰¹å¾"ï¼ˆå¦‚ï¼šå€’è£…å¥ã€é•¿çŸ­å¥ï¼‰ï¼Œå¤åˆ»å…¶ç»“æ„ç¾æ„Ÿã€‚
- **Level 4 (ç”¨ä»–è¯æ±‡)**ï¼šé«˜é¢‘è°ƒç”¨é£æ ¼å¡ä¸­çš„"æ„è±¡ä¸è¯åº“"ï¼Œç¡®ä¿ä¸€çœ¼å°±èƒ½è®¤å‡ºæ˜¯è°çš„é£æ ¼ã€‚
- **Level 5 (å°±æ˜¯æœ¬äºº)**ï¼šæè‡´è¿˜åŸã€‚å…è®¸ä¸ºäº†é£æ ¼è€Œç‰ºç‰²ä¸€å®šçš„é€šä¿—æ€§ï¼Œå®Œå…¨æ²‰æµ¸åœ¨å¤§å¸ˆçš„è¯­å¢ƒä¸­ã€‚

---

## äº”ã€æ­Œæ›²ç»“æ„è§„èŒƒ (Suno ä¸“ç”¨)

### 1. æ ‡ç­¾è§„èŒƒ
- **å¿…é¡»** ä½¿ç”¨è‹±æ–‡æ–¹æ‹¬å·æ ‡ç­¾ï¼Œ**ä¸¥ç¦** ä½¿ç”¨ä¸­æ–‡ã€‚
- å…è®¸æ ‡ç­¾ï¼š\`[Intro]\`, \`[Verse]\`, \`[Pre-Chorus]\`, \`[Chorus]\`, \`[Bridge]\`, \`[Interlude]\`, \`[Outro]\`ã€‚

### 2. æ ¼å¼è§„èŒƒ
- æ¯ä¸ªç»“æ„æ ‡ç­¾ **å•ç‹¬æˆè¡Œ**ã€‚
- æ ‡ç­¾ä¸æ­Œè¯ä¹‹é—´ä¸åŠ ç©ºè¡Œï¼Œæ®µè½ä¹‹é—´åŠ ç©ºè¡Œã€‚
- ä¸¥æ ¼æ‰§è¡Œ User Prompt ä¸­ä¼ å…¥çš„ \`structure_template\`ã€‚

---

## å…­ã€æŠ¼éŸµè§„åˆ™ (éŸµå¾‹çº¢çº¿)
- **ä¸¥æ ¼æ‰§è¡Œ**ï¼šå¿…é¡»éµå®ˆç”¨æˆ·æŒ‡å®šçš„ \`RhymeType\`ï¼ˆå•æŠ¼/åŒæŠ¼/æ¢éŸµï¼‰ã€‚
- **è‡ªç„¶ä¼˜å…ˆ**ï¼šä¸¥ç¦ä¸ºäº†æŠ¼éŸµè€Œå¼ºè¡Œæ‹¼å‡‘é€»è¾‘ä¸é€šçš„è¯æ±‡ï¼ˆ"å‡‘éŸµ"æ˜¯æœ€ä½çº§çš„é”™è¯¯ï¼‰ã€‚
- **éŸµè¾™ç»Ÿä¸€**ï¼šåŒä¸€æ®µè½ï¼ˆå¦‚ Verse 1ï¼‰å†…éŸµè„šå¿…é¡»ä¿æŒä¸€è‡´ï¼Œé™¤éæŒ‡å®šäº†ç‰¹æ®Šæµæ´¾ã€‚

---

## ä¸ƒã€è¾“å‡ºæ•°é‡è§„åˆ™
- ç”¨æˆ·æŒ‡å®šè¾“å‡ºæ–¹æ¡ˆæ•°é‡ï¼š**1 ä¸ªæˆ– 3 ä¸ª**ã€‚
- è‹¥ä¸º 3 ä¸ªæ–¹æ¡ˆï¼Œæ–¹æ¡ˆä¹‹é—´å¿…é¡»åœ¨ **"åˆ‡å…¥è§’åº¦"** æˆ– **"ç”¨è¯é£æ ¼"** ä¸Šæœ‰æ˜æ˜¾å·®å¼‚ï¼Œä¸å¾—é‡å¤å †ç Œã€‚

---

## å…«ã€LLM æ·±åº¦è‡ªæ£€æœºåˆ¶ (Deep Self-Correction)
**ã€è¿™æ˜¯æœ€é‡è¦çš„æ­¥éª¤ã€‘**
åœ¨è¾“å‡ºæœ€ç»ˆæ­Œè¯ä¹‹å‰ï¼Œä½ å¿…é¡»åœ¨åå°ï¼ˆæ€ç»´é“¾ä¸­ï¼‰æ‰§è¡Œä»¥ä¸‹ **3 æ¬¡å¾ªç¯æ‰«æ**ã€‚åªè¦æœ‰ **ä»»ä½•ä¸€é¡¹** ä¸é€šè¿‡ï¼Œå¿…é¡» **ç«‹å³æ¨ç¿»é‡å†™**ã€‚

### ğŸ” æ‰«æä¸€ï¼šè¯­è¨€ä¸éŸµå¾‹ (Language & Rhyme Scan)
1. **æ–¹è¨€è¿‡æ»¤**ï¼š
- (è‹¥ä¸ºç²¤è¯­) æ£€æŸ¥æ˜¯å¦æ··å…¥äº†"çš„ã€æ˜¯ã€ä»€ä¹ˆã€æ²¡æœ‰"ï¼Ÿ -> **æœ‰åˆ™é‡å†™**ã€‚
- (è‹¥ä¸ºé—½å—è¯­) æ£€æŸ¥æ˜¯å¦æ··å…¥äº†æ™®é€šè¯å¸¸ç”¨è¯ï¼Ÿ -> **æœ‰åˆ™é‡å†™**ã€‚

2. **æŠ¼éŸµå®¡è®¡**ï¼š
- æ£€æŸ¥æ¯ä¸€å¥çš„å°¾å­—æ˜¯å¦ç¬¦åˆæŒ‡å®šçš„éŸµè„šï¼Ÿ
- æ£€æŸ¥æ˜¯å¦å­˜åœ¨"ä¸ºäº†æŠ¼éŸµè€ŒæŠ¼éŸµ"çš„ç‹—å±ä¸é€šå¥å­ï¼Ÿ -> **æœ‰åˆ™é‡å†™**ã€‚

### ğŸ” æ‰«æäºŒï¼šé£æ ¼ä¸è´´è¿‘åº¦ (Style & Level Scan)
1. **ç­‰çº§æ ¸å¯¹**ï¼š
- (è‹¥ Level=1) æ£€æŸ¥æ˜¯å¦é”™è¯¯åœ°å †ç Œäº†å¤§å¸ˆçš„æ‹›ç‰Œè¯æ±‡ï¼ˆå¦‚"é’èŠ±ç“·"ï¼‰ï¼Ÿ -> **æ˜¯åˆ™é‡å†™ï¼Œæ”¹ç”¨ç°ä»£è¯**ã€‚
- (è‹¥ Level=5) æ£€æŸ¥å‘³é“æ˜¯å¦å¤ªæ·¡ã€å¤ªåƒç™½å¼€æ°´ï¼Ÿ -> **æ˜¯åˆ™é‡å†™ï¼Œå¢åŠ æµ“åº¦**ã€‚

2. **å» AI å‘³**ï¼š
- å…¨æ–‡æ£€ç´¢æ˜¯å¦åŒ…å«ï¼š"å²æœˆçš„é•¿æ²³"ã€"å¿ƒä¸­çš„æ¶Ÿæ¼ª"ã€"æœªçŸ¥çš„è¿œæ–¹"ã€"æ¢¦æƒ³çš„ç¿…è†€"ã€‚ -> **å‘ç°ä¸€ä¸ªåˆ ä¸€ä¸ª**ã€‚

### ğŸ” æ‰«æä¸‰ï¼šæ ¼å¼ä¸ç»“æ„ (Format Scan)
1. **æ ‡ç­¾çº¯å‡€åº¦**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰ \`[ä¸»æ­Œ]\` æˆ– \`Chorus:\` è¿™ç§é”™è¯¯æ ¼å¼ï¼Ÿ -> **ä¿®æ­£ä¸ºæ ‡å‡†è‹±æ–‡ [Chorus]**ã€‚
2. **é—²èŠè¿‡æ»¤**ï¼šæ£€æŸ¥å¼€å¤´ç»“å°¾æ˜¯å¦æœ‰"å¥½çš„"ã€"å¸Œæœ›ä½ å–œæ¬¢"ï¼Ÿ -> **å…¨éƒ¨åˆ é™¤**ã€‚

---

## ä¹ã€è¾“å‡ºæ ¼å¼ç¤ºä¾‹ (Strict Output)
(ä»…ä»¥markdownæ ¼å¼è¾“å‡ºä»¥ä¸‹å†…å®¹ï¼Œä½¿ç”¨ä¸¤ä¸ªæ¢è¡Œç¬¦åˆ†éš”æ®µè½ï¼Œä¸åŒ…å«ä»£ç å—æ ‡è®°ï¼Œä¹Ÿä¸åŒ…å«è‡ªæ£€è¿‡ç¨‹)

[Song Title]

[Verse 1]
æ­Œè¯å†…å®¹...
æ­Œè¯å†…å®¹...

[Chorus]
æ­Œè¯å†…å®¹...
æ­Œè¯å†…å®¹...

[Outro]
æ­Œè¯å†…å®¹...
`;
```

éå¸¸æŠ±æ­‰ï¼Œåœ¨ä¹‹å‰çš„è®¾è®¡ä¸­ç¡®å®é—æ¼äº†**æ­Œæ›²åç§°**å’Œ**å‚è€ƒæ­Œè¯**ç­‰ç»†èŠ‚ã€‚ä¸ºäº†å®ç°å°†ä½œè¯åˆ›ä½œå®Œå…¨â€œç»“æ„åŒ–ä¸å‚æ•°åŒ–â€çš„ç›®æ ‡ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ **User Prompt** æ¨¡æ¿ä¸ PRD 4.2 èŠ‚ä¸­å®šä¹‰çš„å…¨éƒ¨ **15 é¡¹**è¾“å…¥æ§ä»¶ä¸€ä¸€å¯¹åº”ã€‚

ä»¥ä¸‹æ˜¯ç»è¿‡ä¿®æ­£ã€å®Œæ•´æ¶µç›–æ‰€æœ‰ç”¨æˆ·è¾“å…¥é¡¹çš„ **User Prompt** æ¨¡æ¿åŠç»„è£…è¯´æ˜ï¼š

### 10.2 User Promptï¼šå…¨å‚æ•°åŠ¨æ€æ¨¡æ¿

ç³»ç»Ÿå°†ç»´æŠ¤ä¸€ä¸ªåä¸º `lyricsPrompts.ts` çš„é…ç½®æ–‡ä»¶ï¼Œåˆ©ç”¨é€šé…ç¬¦å°†è¡¨å•ä¸­çš„æ‰€æœ‰å‚æ•°ï¼ˆ4.2.1 - 4.2.15ï¼‰æ³¨å…¥å…¶ä¸­ã€‚

```typescript
export const LYRICS_USER_PROMPT_TEMPLATE = `# ğŸ“‹ æ­Œè¯åˆ›ä½œä»»åŠ¡ä¹¦ (User Prompt)

## 1. åŸºç¡€ä¿¡æ¯ (Basic Info)
- **æ­Œæ›²åç§°**ï¼š{song_name}
- **è¾“å‡ºæ–¹æ¡ˆæ•°é‡**ï¼š{output_count_instruction} (è¯·ç¡®ä¿æ–¹æ¡ˆä¹‹é—´æœ‰æ˜æ˜¾çš„åˆ‡å…¥ç‚¹å·®å¼‚)
- **åˆ›ä½œæ¨¡å¼**ï¼š{creation_mode_instruction}

## 2. æ ¸å¿ƒè¾“å…¥ä¸å‚è€ƒ (Inputs & References)
è¯·ä»”ç»†é˜…è¯»ä»¥ä¸‹ç”¨æˆ·æä¾›çš„æ ¸å¿ƒç´ æ/æ•…äº‹èƒŒæ™¯ï¼Œè¿™æ˜¯æ­Œè¯çš„å†…å®¹åŸºçŸ³ï¼š

**A. æ ¸å¿ƒç´ æ/æ•…äº‹èƒŒæ™¯ (Content Base)**
"""
{raw_material}
"""

**B. å‚è€ƒæ­Œæ›² (Reference Track)**
- **å‚è€ƒæŒ‡ä»¤**ï¼šè¯·åˆ†æè¯¥å‚è€ƒæ­Œæ›²çš„**æƒ…ç»ªåŸºè°ƒ (Vibe)**ã€**å™äº‹èŠ‚å¥**æˆ–**ç»“æ„å¼ åŠ›**ï¼Œå°†å…¶ç¥éŸµèå…¥æœ¬æ¬¡åˆ›ä½œã€‚
- **âš ï¸ è­¦å‘Š**ï¼šä»…å‚è€ƒæ„Ÿè§‰ï¼Œ**ä¸¥ç¦**æŠ„è¢­å‚è€ƒæ­Œæ›²çš„å…·ä½“æ­Œè¯æˆ–æ—‹å¾‹çº¿æš—ç¤ºã€‚
- **ç›®æ ‡å‚è€ƒ**ï¼š{{reference_lyrics}}

**C. ç”¨æˆ·é¢å¤–è¦æ±‚ (Extra Constraints)**
{requirements}

## 3. éŸ³ä¹ä¸ç»“æ„æ¡†æ¶ (Framework)

**å¿…é¡»ä¸¥æ ¼æ‰§è¡Œä»¥ä¸‹éŸ³ä¹æ€§çº¦æŸï¼š**
- **è¯­è¨€/æ–¹è¨€**ï¼š{song_language_instruction}
- **éŸ³ä¹æµæ´¾**ï¼š{song_style_instruction}
- **æ›²å¼ç»“æ„**ï¼š{song_structure_instruction}
- **æŠ¼éŸµè§„åˆ™**ï¼š{rhyme_type_instruction}

## 4. å™äº‹ä¸ç¬”æ³• (Narrative & Tone)
- **å™äº‹äººè®¾**ï¼š{persona_instruction}
- **ç”¨è¯é£æ ¼**ï¼š{wording_style_instruction}

---

## 5. å¤§å¸ˆé£æ ¼æ³¨å…¥ (Master Style Injection)
**ç›®æ ‡æ¨¡ä»¿å¤§å¸ˆ**ï¼šã€{master_name}ã€‘
**æŒ‡å®šè´´è¿‘åº¦ç­‰çº§**ï¼š{closeness_level_label}

**>>> é£æ ¼å¡æ•°æ® (Master DNA) <<<**
ä»¥ä¸‹æ˜¯è¯¥å¤§å¸ˆçš„æ ¸å¿ƒåˆ›ä½œç‰¹å¾ï¼Œè¯·æ ¹æ®"è´´è¿‘åº¦ç­‰çº§"è¿›è¡Œè°ƒç”¨ï¼š
"""
{master_style_styles_raw_data}
"""

**>>> è´´è¿‘åº¦æ‰§è¡ŒæŒ‡ä»¤ (Level Instruction) <<<**
{closeness_level_instruction}

---

## 6. æœ€ç»ˆæ‰§è¡ŒæŒ‡ä»¤ (Execution)
è¯·ç«‹å³å¯åŠ¨ **[LLM æ·±åº¦è‡ªæ£€æœºåˆ¶]**ï¼Œåœ¨åå°å®Œæˆè¯­è¨€ã€æŠ¼éŸµã€é£æ ¼ã€åŸåˆ›æ€§çš„æ‰«æã€‚

**è¾“å‡ºè¦æ±‚ï¼š**
1.  ä»…ä»¥markdownæ ¼å¼è¾“å‡ºæ­Œè¯æ–‡æœ¬ï¼Œ**ä¸¥ç¦**è¾“å‡ºä»»ä½•å¼€åœºç™½ã€è§£é‡Šæˆ–è‡ªæ£€è¿‡ç¨‹ã€‚
2.  å¿…é¡»ä¸¥æ ¼éµå®ˆ System Prompt ä¸­çš„"ç¦å¿Œçº¢çº¿"ï¼ˆæ—  AI å‘³ã€æ— æŠ„è¢­ã€æ— ä¸­æ–‡æ ‡ç­¾ï¼‰ã€‚
3.  å¼€å§‹åˆ›ä½œï¼`;
```

---

### 10.3 å‚æ•°æ˜ å°„ä¸ç»„è£…è§„åˆ™

ç³»ç»Ÿé€šè¿‡ `lyricsPromptService.ts` æœåŠ¡ç±»å’Œ `lyricsPrompts.ts` ä¸­çš„å·¥å…·å‡½æ•°å®ç°å‚æ•°æ˜ å°„ä¸ç»„è£…ï¼Œå…·ä½“é€»è¾‘å¦‚ä¸‹ï¼š

1. **åŸºç¡€å…ƒæ•°æ®**ï¼š

   - `{song_name}`ï¼šè·å– **4.2.1 æ­Œæ›²åç§°**ï¼Œä½œä¸º AI åˆ›ä½œçš„å‘½é¢˜å‚è€ƒã€‚

   - `{song_language_instruction}`ã€`{song_style_instruction}`ã€`{creation_mode_instruction}`ï¼šåˆ†åˆ«å¯¹åº” **4.2.2** è‡³ **4.2.4** çš„å•é€‰/ä¸‹æ‹‰é€‰é¡¹ï¼Œé€šè¿‡ `getEnumInstruction` å‡½æ•°ç”Ÿæˆè‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€‚

2. **æ–‡æœ¬è¾“å…¥ç±»**ï¼š

   - `{raw_material}`ï¼šå¯¹åº” **4.2.6 åŸå§‹ç´ æ**ï¼Œç›´æ¥ä½¿ç”¨ç”¨æˆ·è¾“å…¥çš„åŸå§‹æ–‡æœ¬ã€‚

   - `{requirements}`ï¼šå¯¹åº” **4.2.7 åˆ›ä½œè¦æ±‚**ï¼ŒåŒ…å«æƒ…ç»ªèµ°å‘æˆ–ç¦æ­¢å†…å®¹ã€‚

   - `{reference_lyrics}`ï¼šå¯¹åº” **4.2.12 å‚è€ƒæ­Œè¯**ï¼Œæ˜ç¡®å‘ŠçŸ¥ AI è¿™ä»…ä½œä¸ºæŠ€æ³•å‚è€ƒï¼Œä¸å¼ºåˆ¶ç»“æ„å¯¹é½ã€‚

3. **é£æ ¼åŒ–è°ƒèŠ‚**ï¼š

   - `{master_style_styles_raw_data}`ï¼šæ ¹æ® **4.2.11 å‚è€ƒé£æ ¼** ä¸­é€‰ä¸­çš„å¤§å¸ˆï¼Œä» `masterStyleConfig.ts` ä¸­æå–å¯¹åº”çš„ Markdown æ–‡æœ¬å—ã€‚

   - `{wording_style_instruction}`ï¼šå¯¹åº” **4.2.9 ç”¨è¯é£æ ¼**ï¼ˆCheckboxï¼Œæœ€å¤š 2 é¡¹ï¼‰ï¼Œé€šè¿‡ `getWordingStyleInstruction` å‡½æ•°ç”Ÿæˆç»„åˆæŒ‡ä»¤ï¼Œæ”¯æŒå¤šä¸ªé£æ ¼çš„å åŠ ã€‚

   - `{closeness_level_label}` å’Œ `{closeness_level_instruction}`ï¼šå¯¹åº” **4.2.13 è´´è¿‘åº¦**ï¼Œåˆ†åˆ«é€šè¿‡ `getClosenessLevelLabel` å’Œ `getClosenessLevelInstruction` å‡½æ•°ç”Ÿæˆè´´è¿‘åº¦ç­‰çº§æ ‡ç­¾å’Œè¯¦ç»†æ‰§è¡ŒæŒ‡ä»¤ã€‚

4. **éŸ³ä¹æ€§çº¦æŸ**ï¼š

   - `{song_structure_instruction}`ï¼šå¯¹åº” **4.2.5 æ›²å¼ç»“æ„**ï¼Œå¦‚â€œä¸»æ­Œ-å‰¯æ­Œâ€ï¼Œé€šè¿‡ `getEnumInstruction` å‡½æ•°ç”ŸæˆæŒ‡ä»¤ã€‚

   - `{rhyme_type_instruction}`ï¼šå¯¹åº” **4.2.14 æŠ¼éŸµè®¾ç½®**ï¼Œé€šè¿‡ `getEnumInstruction` å‡½æ•°ç”ŸæˆæŠ¼éŸµè§„åˆ™æŒ‡ä»¤ã€‚

5. **å™äº‹ä¸ç¬”æ³•**ï¼š

   - `{persona_instruction}`ï¼šå¯¹åº” **4.2.8 å™äº‹äººè®¾**ï¼Œé€šè¿‡ `getPersonaInstruction` å‡½æ•°ç”Ÿæˆå™äº‹è§†è§’æŒ‡ä»¤ã€‚

6. **è¾“å‡ºæ§åˆ¶**ï¼š

   - `{output_count_instruction}`ï¼šå¯¹åº” **4.2.15 è¾“å‡ºæ–¹æ¡ˆæ•°é‡**ï¼Œé€šè¿‡ `getOutputCountInstruction` å‡½æ•°ç”ŸæˆæŒ‡ä»¤ï¼ŒæŒ‡ç¤º AI ç”Ÿæˆ 1 ä¸ªæˆ– 3 ä¸ªæ–¹æ¡ˆã€‚

### 10.4 Prompt ç»„è£…æµç¨‹

ç³»ç»Ÿé€šè¿‡ `assembleLyricsPrompt` å‡½æ•°å®Œæˆ Prompt çš„ç»„è£…ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹ï¼š

1. **å‚æ•°æ˜ å°„**ï¼šå°†è¡¨å•æ•°æ®æ˜ å°„ä¸ºå¯¹åº”çš„æŒ‡ä»¤æ–‡æœ¬
2. **é£æ ¼å¡æ³¨å…¥**ï¼šæ ¹æ®é€‰ä¸­çš„å¤§å¸ˆé£æ ¼å¡ï¼Œæ³¨å…¥å¯¹åº”çš„åˆ›ä½œç‰¹å¾
3. **è´´è¿‘åº¦è°ƒèŠ‚**ï¼šæ ¹æ®è´´è¿‘åº¦ç­‰çº§ç”Ÿæˆå¯¹åº”çš„æ‰§è¡ŒæŒ‡ä»¤
4. **æ¨¡æ¿æ›¿æ¢**ï¼šå°†æ‰€æœ‰å‚æ•°æ³¨å…¥åˆ° User Prompt æ¨¡æ¿ä¸­
5. **è¿”å›ç»“æœ**ï¼šè¿”å›åŒ…å« systemPrompt å’Œ userPrompt çš„å¯¹è±¡

---
